var le=Object.defineProperty,oe=Object.defineProperties;var re=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var Q=(e,t,a)=>t in e?le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,P=(e,t)=>{for(var a in t||(t={}))se.call(t,a)&&Q(e,a,t[a]);if($)for(var a of $(t))ne.call(t,a)&&Q(e,a,t[a]);return e},j=(e,t)=>oe(e,re(t));import{P as ie}from"./page-wrapper-15ead482.js";import{a4 as x,f as K,n as G,J as C,o,A as r,u as y,w as p,B as c,r as V,t as g,F as m,q as f,K as N,a as F,c as M,aD as X,aE as B,aF as de,aG as R,a8 as Z,a9 as I,aH as ce,y as ue,g as D,D as W,Y as L,$ as T,aI as U,M as O,E as pe}from"./vendor-0fc4fabe.js";import{d as Y}from"./index-89bf360d.js";import{S as ye}from"./index-afa28915.js";import"./chunk-brace-7fd40d4c.js";import"./chunk-bin-ui-next-51eb6328.js";const he={name:"field-label",props:{fieldValues:{type:Array,default:()=>[]},field:{type:Object,default:()=>({headers:{}})},variant:{type:String,default:"primary"}},setup(e){const t=K(!0),a=K(!1);function n(w){e.fieldValues.forEach(v=>{v.checked=w}),t.value=!1}function s(){d()}function d(){const w=e.fieldValues.reduce((h,_)=>_.checked?h+=1:h,0),v=e.fieldValues.length;w===v?(t.value=!1,a.value=!0):w>0?(t.value=!0,a.value=!1):(t.value=!1,a.value=!1)}return G(()=>e.fieldValues,()=>{d()},{immediate:!0}),{indeterminate:t,checkAll:a,handleCheckAll:n,handleCheckChange:s}}},fe={class:"field-label-button"},ge=c("svg",{"aria-hidden":"true",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 270 512",class:"svg-inline--fa fa-grip-vertical fa-w-10",style:{position:"relative",top:"3px",width:"10px",height:"16px"}},[c("path",{fill:"currentColor",d:"M64 208c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM16 104c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48zm0 304c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48z M204 208c26.5 0 48 21.5 48 48s-21.5 48 -48 48 -48 -21.5 -48 -48 21.5 -48 48 -48zM156 104c0 26.5 21.5 48 48 48s48 -21.5 48 -48 -21.5 -48 -48 -48 -48 21.5 -48 48zm0 304c0 26.5 21.5 48 48 48s48 -21.5 48 -48 -21.5 -48 -48 -48 -48 21.5 -48 48z",class:""})],-1),_e={style:{"margin-left":"8px"}},me=f(" Missing slot "),ve={style:{width:"160px"}},we=c("h6",{class:"dropdown-header"},"Attributes",-1),be={class:"dropdown-list"},Se=c("h6",{class:"dropdown-header"},"Values",-1),ke={style:{"border-bottom":"1px solid #e9e9e9",padding:"0 10px 2px"}},Fe=f("\u5168\u9009 "),Ce={class:"dropdown-list"},ze=f(" Missing slot ");function Ne(e,t,a,n,s,d){const w=C("b-button"),v=C("b-checkbox"),h=C("b-divider"),_=C("b-popper"),u=C("b-button-group");return o(),r("div",fe,[y(u,null,{default:p(()=>[y(w,{type:a.variant,class:"btn-draggable"},{default:p(()=>[ge,c("span",_e,[a.field.labelSlotName?V(e.$slots,a.field.labelSlotName,{key:0},()=>[me,c("code",null,g(a.field.labelSlotName),1)]):(o(),r(m,{key:1},[f(g(a.field.label),1)],64))])]),_:3},8,["type"]),y(_,{trigger:"click",theme:"light","show-arrow":!1,offset:4,placement:"bottom",transition:"zoom-in-top","popper-class":"bin-select__popper field-label-popper","gpu-acceleration":!1},{trigger:p(()=>[y(w,{type:a.variant,icon:"caret-down",style:{padding:"0 6px"}},null,8,["type"])]),default:p(()=>[c("div",ve,[a.field.headerAttributeFilter?(o(),r(m,{key:0},[we,c("div",be,[(o(!0),r(m,null,N(a.field.headers,(l,i)=>(o(),r("div",{key:i,style:{padding:"2px 10px"}},[y(v,{modelValue:l.checked,"onUpdate:modelValue":S=>l.checked=S},{default:p(()=>[f(g(l.label),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])]))),128))])],64)):F("",!0),a.field.headerAttributeFilter&&a.field.valueFilter?(o(),M(h,{key:1,style:{margin:"8px 0"}})):F("",!0),a.field.valueFilter?(o(),r(m,{key:2},[Se,c("div",ke,[y(v,{indeterminate:n.indeterminate,modelValue:n.checkAll,"onUpdate:modelValue":t[0]||(t[0]=l=>n.checkAll=l),onChange:n.handleCheckAll},{default:p(()=>[Fe]),_:1},8,["indeterminate","modelValue","onChange"])]),c("div",Ce,[(o(!0),r(m,null,N(a.fieldValues,(l,i)=>(o(),r("div",{key:i,style:{padding:"2px 10px"}},[y(v,{modelValue:l.checked,"onUpdate:modelValue":S=>l.checked=S,onChange:n.handleCheckChange},{default:p(()=>[a.field.valueFilterSlotName?V(e.$slots,a.field.valueFilterSlotName,{key:0,value:l.value},()=>[ze,c("code",null,g(a.field.valueFilterSlotName),1)]):(o(),r(m,{key:1},[f(g(l.value),1)],64))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]))),128))])],64)):F("",!0)])]),_:3})]),_:3})])}var He=x(he,[["render",Ne]]);const Ve={name:"pivot-table",components:{SvgLoading:ye},props:{data:{type:Array,default:()=>[]},rowFields:{type:Array,default:()=>[]},colFields:{type:Array,default:()=>[]},reducer:{type:Function,default:e=>e+1},reducerInitialValue:{default:0},noDataWarningText:{type:String,default:"No data to display."},isDataLoading:{type:Boolean,default:!1}},data(){return{valuesMap:null,rows:[],cols:[],internalRowFields:[],internalColFields:[],isDataComputing:!1,computingInterval:null}},computed:{sortedRows(){let e;return this.internalRowFields.forEach((t,a)=>{a===0?e=X.firstBy(0,{cmp:t.sort||B}):e=e.thenBy(a,{cmp:t.sort||B})}),[...this.rows].sort(e)},sortedCols(){let e;return this.internalColFields.forEach((t,a)=>{a===0?e=X.firstBy(0,{cmp:t.sort||B}):e=e.thenBy(a,{cmp:t.sort||B})}),[...this.cols].sort(e)},fields(){return[[this.colFields,this.rowFields],[this.colFields.map(e=>e.headerSlotNames),this.rowFields.map(e=>e.headerSlotNames)],[this.colFields.map(e=>e.valuesFiltered),this.rowFields.map(e=>e.valuesFiltered)]]},rowHeaderSize(){return this.internalRowFields.reduce((e,t)=>t.showHeader===void 0||t.showHeader?t.headerSlotNames?e+t.headerSlotNames.length:e+1:e,0)},rowFooterSize(){return this.internalRowFields.reduce((e,t)=>t.showFooter?t.footerSlotNames?e+t.footerSlotNames.length:e+1:e,0)},colHeaderSize(){return this.internalColFields.reduce((e,t)=>t.showHeader===void 0||t.showHeader?t.headerSlotNames?e+t.headerSlotNames.length:e+1:e,0)},colFooterSize(){return this.internalColFields.reduce((e,t)=>t.showFooter?t.footerSlotNames?e+t.footerSlotNames.length:e+1:e,0)},tableHeader(){return{colHeaderFields:this.internalColFields.map((t,a)=>({colField:t,cols:this.sortedCols.map((n,s)=>({value:n[a],colspan:this.spanSize(this.sortedCols,s,a)})).filter(n=>n.colspan!==0)})).filter(({colField:t})=>t.showHeader===void 0||t.showHeader)}},tableFooter(){return{colFooterFields:this.internalColFields.map((t,a)=>({colField:t,cols:this.sortedCols.map((n,s)=>({value:n[a],colspan:this.spanSize(this.sortedCols,s,a)})).filter(n=>n.colspan!==0)})).filter(({colField:t})=>t.showFooter).reverse()}},tableRows(){return this.sortedRows.map((e,t)=>{const a=this.internalRowFields.map((s,d)=>j(P({},s),{value:e[d],rowspan:this.spanSize(this.sortedRows,t,d)})).filter(s=>(s.showHeader===void 0||s.showHeader)&&s.rowspan!==0),n=this.internalRowFields.map((s,d)=>j(P({},s),{value:e[d],rowspan:this.spanSize(this.sortedRows,t,d)})).filter(s=>s.showFooter&&s.rowspan!==0).reverse();return{row:e,rowHeaderFields:a,rowFooterFields:n}})}},methods:{value(e,t){return this.valuesMap.get([...e,...t])||this.reducerInitialValue},spanSize(e,t,a){if(t>0&&e[t-1][a]===e[t][a]&&(a===0||this.spanSize(e,t,a-1)===0))return 0;let n=1,s=t;for(;s+1<e.length&&e[s+1][a]===e[s][a]&&(a===0||s+1<e.length&&this.spanSize(e,s+1,a-1)===0);)s++,n++;return n},updateInternalFields(){this.internalRowFields=Y(this.rowFields),this.internalColFields=Y(this.colFields)},updateValues(e=!0){this.isDataComputing=!0,clearInterval(this.computingInterval),this.computingInterval=setTimeout(()=>{const t=[],a=[],n=new de,s=[...this.rowFields,...this.colFields];this.data.forEach(d=>{const w=[],v=[];let h=!1;for(let _ of s)if(_.valuesFiltered&&!_.valuesFiltered.has(_.getter(d))){h=!0;break}if((!h||e)&&(this.rowFields.forEach(_=>{w.push(_.getter(d))}),this.colFields.forEach(_=>{v.push(_.getter(d))})),h||(t.some(_=>this.rowFields.every((u,l)=>_[l]===w[l]))||t.push(w),a.some(_=>this.colFields.every((u,l)=>_[l]===v[l]))||a.push(v)),e){const _=[...w,...v],u=n.get(_)||Y(this.reducerInitialValue);n.set(_,this.reducer(u,d))}}),this.rows=t,this.cols=a,e&&(this.valuesMap=n),this.isDataComputing=!1,this.updateInternalFields()},0)}},watch:{fields:function(e,t){R(e[0],t[0])?R(e[1],t[1])?R(e[2],t[2])||this.updateValues(!1):this.updateInternalFields():this.updateValues()},data:function(){this.updateValues()}},created(){this.updateValues()}},ee=e=>(Z("data-v-fc84e220"),e=e(),I(),e),Ae={class:"position-relative"},De={key:0,class:"pivot-table-loading"},Ee=ee(()=>c("span",null,"Loading...",-1)),xe={key:0,class:"pivot-table-loading"},Ke=ee(()=>c("span",null,"Loading table values...",-1)),Be={key:2,class:"table-responsive"},Me=["aria-busy"],Le=["colspan","rowspan"],Te=["colspan"],Ue=f(" Missing slot "),Pe=["colspan","rowspan"],je=["colspan","rowspan"],Ge=["colspan"],Re=f(" Missing slot "),We=["colspan","rowspan"],Oe=["rowspan"],Ye=f(" Missing slot "),qe=["rowspan"],Je=f(" Missing slot "),$e=["rowspan"],Qe=f(" Missing slot "),Xe=["rowspan"],Ze=f(" Missing slot "),Ie=["colspan","rowspan"],et=["colspan"],tt=f(" Missing slot "),at=["colspan","rowspan"],lt=["colspan","rowspan"],ot=["colspan"],rt=f(" Missing slot "),st=["colspan","rowspan"];function nt(e,t,a,n,s,d){const w=C("svg-loading"),v=C("b-empty");return o(),r("div",Ae,[a.isDataLoading?(o(),r("div",De,[y(w,{name:"loading04",style:{width:"80px",height:"80px"}}),Ee])):(o(),r(m,{key:1},[s.isDataComputing?(o(),r("div",xe,[y(w,{name:"loading02",style:{width:"80px",height:"80px"}}),Ke])):F("",!0),a.data.length===0||s.rows.length===0&&s.cols.length===0||s.rows[0].length===0&&s.cols[0].length===0?(o(),M(v,{key:1},{default:p(()=>[f(g(a.noDataWarningText),1)]),_:1})):(o(),r("div",Be,[c("table",{class:"pivot-table pivot-table-bordered","aria-busy":a.isDataLoading||s.isDataComputing},[c("thead",null,[(o(!0),r(m,null,N(d.tableHeader.colHeaderFields,({colField:h,cols:_},u)=>(o(),r(m,null,[h.headerSlotNames?(o(!0),r(m,{key:0},N(h.headerSlotNames,(l,i)=>(o(),r("tr",{key:`${u}-${i}`},[u===0&&d.rowHeaderSize>0&&i===0?(o(),r("th",{key:0,colspan:d.rowHeaderSize,rowspan:d.colHeaderSize},null,8,Le)):F("",!0),(o(!0),r(m,null,N(_,(S,A)=>(o(),r("th",{key:`${u}-${i}-${A}`,colspan:S.colspan},[V(e.$slots,l,{value:S.value},()=>[Ue,c("code",null,g(l),1)],!0)],8,Te))),128)),u===0&&d.rowFooterSize>0&&i===0?(o(),r("th",{key:1,colspan:d.rowFooterSize,rowspan:d.colHeaderSize},null,8,Pe)):F("",!0)]))),128)):(o(),r("tr",{key:u},[u===0&&d.rowHeaderSize>0?(o(),r("th",{key:0,colspan:d.rowHeaderSize,rowspan:d.colHeaderSize},null,8,je)):F("",!0),(o(!0),r(m,null,N(_,(l,i)=>(o(),r("th",{key:`${u}-${i}`,colspan:l.colspan},[h.headerSlotName?V(e.$slots,h.headerSlotName,{key:0,value:l.value},()=>[Re,c("code",null,g(h.headerSlotName),1)],!0):(o(),r(m,{key:1},[f(g(l.value),1)],64))],8,Ge))),128)),u===0&&d.rowFooterSize>0?(o(),r("th",{key:1,colspan:d.rowFooterSize,rowspan:d.colHeaderSize},null,8,We)):F("",!0)]))],64))),256))]),c("tbody",null,[(o(!0),r(m,null,N(d.tableRows,({row:h,rowHeaderFields:_,rowFooterFields:u},l)=>(o(),r("tr",{key:l},[(o(!0),r(m,null,N(_,(i,S)=>(o(),r(m,null,[i.headerSlotNames?(o(!0),r(m,{key:0},N(i.headerSlotNames,(A,E)=>(o(),r("th",{key:`header-${l}-${S}-${E}`,rowspan:i.rowspan},[V(e.$slots,A,{value:i.value},()=>[Ye,c("code",null,g(A),1)],!0)],8,Oe))),128)):(o(),r("th",{key:`header-${l}-${S}`,rowspan:i.rowspan},[i.headerSlotName?V(e.$slots,i.headerSlotName,{key:0,value:i.value},()=>[Je,c("code",null,g(i.headerSlotName),1)],!0):(o(),r(m,{key:1},[f(g(i.value),1)],64))],8,qe))],64))),256)),(o(!0),r(m,null,N(d.sortedCols,(i,S)=>(o(),r("td",{key:`value-${l}-${S}`,class:"text-right"},[e.$slots.value?V(e.$slots,"value",{key:0,value:d.value(h,i),row:Object.values(h),col:Object.values(i)},void 0,!0):(o(),r(m,{key:1},[f(g(d.value(h,i)),1)],64))]))),128)),(o(!0),r(m,null,N(u,(i,S)=>(o(),r(m,null,[i.footerSlotNames?(o(!0),r(m,{key:0},N(i.footerSlotNames,(A,E)=>(o(),r("th",{key:`footer-${l}-${S}-${E}`,rowspan:i.rowspan},[V(e.$slots,A,{value:i.value},()=>[Qe,c("code",null,g(A),1)],!0)],8,$e))),128)):(o(),r("th",{key:`footer-${l}-${S}`,rowspan:i.rowspan},[i.footerSlotName?V(e.$slots,i.footerSlotName,{key:0,value:i.value},()=>[Ze,c("code",null,g(i.footerSlotName),1)],!0):(o(),r(m,{key:1},[f(g(i.value),1)],64))],8,Xe))],64))),256))]))),128))]),c("tfoot",null,[(o(!0),r(m,null,N(d.tableFooter.colFooterFields,({colField:h,cols:_},u)=>(o(),r(m,null,[h.footerSlotNames?(o(!0),r(m,{key:0},N(h.footerSlotNames,(l,i)=>(o(),r("tr",{key:`${u}-${i}`},[u===0&&d.rowHeaderSize>0&&i===0?(o(),r("th",{key:0,colspan:d.rowHeaderSize,rowspan:d.colFooterSize},null,8,Ie)):F("",!0),(o(!0),r(m,null,N(d.sortedCols,(S,A)=>(o(),r("th",{key:`${u}-${i}-${A}`,colspan:S.colspan},[V(e.$slots,l,{value:S.value},()=>[tt,c("code",null,g(l),1)],!0)],8,et))),128)),u===0&&d.rowFooterSize>0&&i===0?(o(),r("th",{key:1,colspan:d.rowFooterSize,rowspan:d.colFooterSize},null,8,at)):F("",!0)]))),128)):(o(),r("tr",{key:u},[u===0&&d.rowHeaderSize>0?(o(),r("th",{key:0,colspan:d.rowHeaderSize,rowspan:d.colFooterSize},null,8,lt)):F("",!0),(o(!0),r(m,null,N(_,(l,i)=>(o(),r("th",{key:`${u}-${i}`,colspan:l.colspan},[h.footerSlotName?V(e.$slots,h.footerSlotName,{key:0,value:l.value},()=>[rt,c("code",null,g(h.footerSlotName),1)],!0):(o(),r(m,{key:1},[f(g(l.value),1)],64))],8,ot))),128)),u===0&&d.rowFooterSize>0?(o(),r("th",{key:1,colspan:d.rowFooterSize,rowspan:d.colFooterSize},null,8,st)):F("",!0)]))],64))),256))])],8,Me)]))],64))])}var te=x(Ve,[["render",nt],["__scopeId","data-v-fc84e220"]]);const it={name:"pivot",components:{PivotTable:te,draggable:ce,FieldLabel:He},props:{data:{type:Array,default:()=>[]},fields:{type:Array,default:()=>[]},availableFieldKeys:{type:Array,default:()=>[]},rowFieldKeys:{type:Array,default:()=>[]},colFieldKeys:{type:Array,default:()=>[]},reducer:{type:Function,default:e=>e+1},reducerInitialValue:{default:0},defaultShowSettings:{type:Boolean,default:!0},availableFieldsLabelText:{type:String,default:"Available fields"},colsLabelText:{type:String,default:"Columns"},rowsLabelText:{type:String,default:"Rows"},hideSettingsText:{type:String,default:"Hide settings"},showSettingsText:{type:String,default:"Show settings"},noDataWarningText:{type:String,default:"No data to display."},isDataLoading:{type:Boolean,default:!1}},setup(e,{emit:t}){const a=ue({availableFieldKeys:e.availableFieldKeys,rowFieldKeys:e.rowFieldKeys,colFieldKeys:e.colFieldKeys}),n=K(e.defaultShowSettings);function s(){n.value=!n.value}const d=K({}),w=D(()=>{const H=e.fields,z={};H.forEach(b=>{z[b.key]=b});const k=H.filter(b=>b.valueFilter);return k.forEach(b=>{z[b.key].valuesSet=new Set}),e.data.forEach(b=>{k.forEach(J=>{z[J.key].valuesSet.add(J.getter(b))})}),k.forEach(b=>{z[b.key].values=Array.from(z[b.key].valuesSet).sort(b.sort||B)}),z});function v(){for(let[H,z]of Object.entries(w.value))z.valueFilter&&(d.value[H]=[],z.values.forEach(k=>{d.value[H].push({value:k,checked:!0})}))}const h=K(!1),_=D(()=>h.value?"drag-area-highlight":null);function u(){h.value=!0}function l(){h.value=!1}const i=D(()=>({width:n.value?"calc(100% - 200px - 2rem)":"100%"})),S=D(()=>{const H={};for(let[z,k]of Object.entries(d.value))H[z]=new Set,k.forEach(b=>{b.checked&&H[z].add(b.value)});return H}),A=D(()=>{const H=[];return a.rowFieldKeys.forEach(z=>{const k=e.fields.find(b=>b.key===z);k.headers&&(k.headerSlotNames=k.headers.filter(b=>b.checked).map(b=>b.slotName)),k.valueFilter&&(k.valuesFiltered=S.value[k.key]),H.push(k)}),H}),E=D(()=>{const H=[];return a.colFieldKeys.forEach(z=>{const k=e.fields.find(b=>b.key===z);k.headers&&(k.headerSlotNames=k.headers.filter(b=>b.checked).map(b=>b.slotName)),k.valueFilter&&(k.valuesFiltered=S.value[k.key]),H.push(k)}),H});return G(()=>e.fields,H=>{H.filter(z=>z.valueFilter).forEach(z=>{d.value[z.key]={}}),v()},{immediate:!0}),G(()=>e.data,()=>{v()}),{internal:a,showSettings:n,toggleShowSettings:s,fieldValues:d,fieldsWithValues:w,dragging:h,dragAreaClass:_,dragStart:u,dragEnd:l,tableWrapperStyle:i,rowFields:A,colFields:E}}},dt=e=>(Z("data-v-2346e9d3"),e=e(),I(),e),ct={class:"bin-pivot-table"},ut={class:"top-row"},pt={class:"left-col"},yt={key:0,class:"right-col"},ht={class:"drag-area-title"},ft={class:"field"},gt={key:0,class:"top-row mt-16"},_t=dt(()=>c("div",{class:"left-col"},null,-1)),mt={class:"right-col"},vt={class:"drag-area-title"},wt={class:"field"},bt={class:"bottom-row",flex:""},St={key:0,class:"left-col"},kt={class:"drag-area-title"},Ft={class:"field"};function Ct(e,t,a,n,s,d){const w=C("b-button"),v=C("field-label"),h=C("draggable"),_=C("pivot-table");return o(),r("div",ct,[c("div",ut,[c("div",pt,[y(w,{type:"primary","animation-type":"waves",onClick:n.toggleShowSettings},{default:p(()=>[f(g(a.hideSettingsText),1)]),_:1},8,["onClick"])]),n.showSettings?(o(),r("div",yt,[c("div",{class:W(["drag-area",n.dragAreaClass])},[c("div",ht,g(a.availableFieldsLabelText),1),y(h,O({modelValue:n.internal.availableFieldKeys,"onUpdate:modelValue":t[0]||(t[0]=u=>n.internal.availableFieldKeys=u),class:"drag-area-zone","item-key":"key"},{animation:200,group:"fields",ghostClass:"sortable-ghost",handle:".btn-draggable"},{onStart:n.dragStart,onEnd:n.dragEnd}),{item:p(({element:u})=>[c("div",ft,[y(v,{"field-values":n.fieldValues[u],field:n.fieldsWithValues[u],variant:"warning"},L({_:2},[N(e.$slots,(l,i)=>({name:i,fn:p(S=>[V(e.$slots,i,T(U(S)),void 0,!0)])}))]),1032,["field-values","field"])])]),_:3},16,["modelValue","onStart","onEnd"])],2)])):F("",!0)]),n.showSettings?(o(),r("div",gt,[_t,c("div",mt,[c("div",{class:W(["drag-area border-primary",n.dragAreaClass])},[c("div",vt,g(a.colsLabelText),1),y(h,O({modelValue:n.internal.colFieldKeys,"onUpdate:modelValue":t[1]||(t[1]=u=>n.internal.colFieldKeys=u),class:"drag-area-zone","item-key":"key"},{animation:200,group:"fields",ghostClass:"sortable-ghost",handle:".btn-draggable"},{onStart:n.dragStart,onEnd:n.dragEnd}),{item:p(({element:u})=>[c("div",wt,[y(v,{"field-values":n.fieldValues[u],field:n.fieldsWithValues[u]},L({_:2},[N(e.$slots,(l,i)=>({name:i,fn:p(S=>[V(e.$slots,i,T(U(S)),void 0,!0)])}))]),1032,["field-values","field"])])]),_:3},16,["modelValue","onStart","onEnd"])],2)])])):F("",!0),c("div",bt,[n.showSettings?(o(),r("div",St,[c("div",{class:W(["drag-area border-primary",n.dragAreaClass])},[c("div",kt,g(a.rowsLabelText),1),y(h,O({modelValue:n.internal.rowFieldKeys,"onUpdate:modelValue":t[2]||(t[2]=u=>n.internal.rowFieldKeys=u),class:"drag-area-zone","item-key":"key"},{animation:200,group:"fields",ghostClass:"sortable-ghost",handle:".btn-draggable"},{onStart:n.dragStart,onEnd:n.dragEnd}),{item:p(({element:u})=>[c("div",Ft,[y(v,{"field-values":n.fieldValues[u],field:n.fieldsWithValues[u]},L({_:2},[N(e.$slots,(l,i)=>({name:i,fn:p(S=>[V(e.$slots,i,T(U(S)),void 0,!0)])}))]),1032,["field-values","field"])])]),_:3},16,["modelValue","onStart","onEnd"])],2)])):F("",!0),c("div",{class:"right-col",style:pe(n.tableWrapperStyle)},[y(_,{data:a.data,"row-fields":n.rowFields,"col-fields":n.colFields,reducer:a.reducer,"reducer-initial-value":a.reducerInitialValue,"no-data-warning-text":a.noDataWarningText,"is-data-loading":a.isDataLoading},L({_:2},[N(e.$slots,(u,l)=>({name:l,fn:p(i=>[V(e.$slots,l,T(U(i)),void 0,!0)])}))]),1032,["data","row-fields","col-fields","reducer","reducer-initial-value","no-data-warning-text","is-data-loading"])],4)])])}var zt=x(it,[["render",Ct],["__scopeId","data-v-2346e9d3"]]);const Nt={name:"pivot-doc",data(){return{docCol1:[{title:"\u5C5E\u6027\u540D",key:"prop",width:220},{title:"\u7C7B\u578B",key:"type",width:100},{title:"\u9ED8\u8BA4\u503C",key:"default",width:220},{title:"\u63CF\u8FF0",key:"desc"}],docCol2:[{title:"\u5C5E\u6027\u540D",key:"prop",width:220},{title:"\u7C7B\u578B",key:"type",width:100},{title:"\u63CF\u8FF0",key:"desc"}],docCol3:[{title:"\u63D2\u69FD\u540D",key:"slot",width:240},{title:"\u63CF\u8FF0",key:"desc"},{title:"Scope",key:"scope",width:160}],docData1:[{prop:"data",type:"Array",default:"[]",desc:"pivot\u8868\u683C\u6570\u636E\u96C6"},{prop:"fields",type:"Array",default:"[]",desc:"\u5B9A\u4E49\u4E86\u6240\u6709\u884C\u5217\u5B57\u6BB5\u914D\u7F6E\u4FE1\u606F\u3002\u5177\u4F53\u5305\u542B\u5982\u4E0B"},{prop:"available-field-keys",type:"Array",default:"[]",desc:"\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u663E\u793A\u4E3A\u201C\u53EF\u7528\u201D\u7684\u5B57\u6BB5\u7684\u952E"},{prop:"row-field-keys",type:"Array",default:"[]",desc:"\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u8981\u4F5C\u4E3A\u884C\u4F7F\u7528\u7684\u5B57\u6BB5\u7684\u952E"},{prop:"col-field-keys",type:"Array",default:"[]",desc:"\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u8981\u4F5C\u4E3A\u5217\u4F7F\u7528\u7684\u5B57\u6BB5\u7684\u952E"},{prop:"reducer",type:"function",default:"(sum, item) => sum + 1",desc:"\u8BA1\u7B97\u8868\u6570\u636E\u7D2F\u52A0\u5668"},{prop:"reducer-initial-value",type:"any",default:"0",desc:"\u7D2F\u52A0\u5668\u521D\u59CB\u503C"},{prop:"no-data-warning-text",type:"String",default:"No data to display.",desc:"\u65E0\u6570\u636E\u6587\u5B57"},{prop:"is-data-loading",type:"Boolean",default:"false",desc:"\u662F\u5426\u52A0\u8F7D"},{prop:"default-show-settings",type:"Boolean",default:"true",desc:"\u662F\u5426\u663E\u793A\u8BBE\u7F6E\u6309\u94AE"},{prop:"available-fields-label-text",type:"String",default:"Available fields",desc:"\u53EF\u9009\u5B57\u6BB5\u6807\u9898"},{prop:"rows-label-text",type:"String",default:"Available fields",desc:"\u53EF\u9009\u5B57\u6BB5\u6807\u9898"},{prop:"rows-label-text",type:"String",default:"Rows",desc:"\u884C\u5B57\u6BB5\u6807\u9898"},{prop:"cols-label-text",type:"String",default:"Columns",desc:"\u5217\u5B57\u6BB5\u6807\u9898"},{prop:"hide-settings-text",type:"String",default:"Hide settings",desc:"\u9690\u85CF\u8BBE\u7F6E\u6587\u5B57"},{prop:"show-settings-text",type:"String",default:"Show settings",desc:"\u663E\u793A\u8BBE\u7F6E\u6587\u5B57"}],docData2:[{prop:"key",type:"String",desc:"\u7528\u4E8E\u6807\u8BC6\u5B57\u6BB5\u7684key"},{prop:"label",type:"String",desc:"\u5728\u53EF\u62D6\u52A8\u5143\u7D20\u4E2D\u663E\u793A\u7684\u6587\u672C"},{prop:"labelSlotName",type:"String",desc:"\u53EF\u9009-\u7528\u4E8E\u683C\u5F0F\u5316\u6807\u7B7E\u5185\u5BB9\u7684\u69FD\u4F4D\u540D\u79F0"},{prop:"getter",type:"Function",desc:"\u51FD\u6570\u5E94\u7528\u4E8E\u6570\u636E\u5143\u7D20\u4EE5\u83B7\u53D6\u5B57\u6BB5\u503C\uFF0C\u5982 getter: item => item.country"},{prop:"sort",type:"Function",desc:"\u53EF\u9009-\u5728pivot\u8868\u5934\u4E2D\u6392\u5E8F\u5B57\u6BB5\u7684\u51FD\u6570;\u5982\u679C\u6CA1\u6709\u63D0\u4F9B\u503C\uFF0C\u5C06\u5E94\u7528javascript-natural-sort"},{prop:"showHeader",type:"Boolean",desc:"\u53EF\u9009(\u9ED8\u8BA4\u503C:true)\u2014\u6807\u9898\u662F\u5426\u5E94\u8BE5\u663E\u793A\u5728\u6570\u636E\u900F\u89C6\u8868\u4E2D"},{prop:"showFooter",type:"Boolean",desc:"\u53EF\u9009(\u9ED8\u8BA4:false)\u2014\u9875\u811A\u662F\u5426\u5E94\u8BE5\u663E\u793A\u5728\u900F\u89C6\u8868\u4E2D"},{prop:"headerSlotName",type:"String",desc:"\u53EF\u9009-\u7528\u4E8E\u683C\u5F0F\u5316\u6570\u636E\u900F\u89C6\u8868\u5934\u90E8\u7684\u69FD\u540D;\u5982\u679C\u6CA1\u6709\u63D0\u4F9B\u69FD\u4F4D\u540D\u79F0\uFF0C\u5219\u8BE5\u503C\u5C06\u663E\u793A\u4E3Adata\u4E2D\u627E\u5230\u7684\u503C"},{prop:"headerSlotNames",type:"String[]",desc:"\u53EF\u9009-\u7528\u4E8E\u5728\u6570\u636E\u900F\u89C6\u8868\u4E2D\u683C\u5F0F\u5316\u6807\u9898\u7684\u69FD\u540D"},{prop:"headers",type:"Array",desc:"\u53EF\u9009-\u6807\u9898\u7684\u5B9A\u4E49(\u53C2\u89C1\u6807\u9898\u5143\u7D20\u683C\u5F0F)"},{prop:"footerSlotName",type:"String",desc:"\u4E0E\u4E0A\u9762\u8868\u5934\u63D2\u69FD\u96F7\u540C"},{prop:"footerSlotNames",type:"String[]",desc:"\u4E0E\u4E0A\u9762\u8868\u5934\u63D2\u69FD\u96F7\u540C"},{prop:"headerAttributeFilter",type:"Boolean",desc:"\u53EF\u9009(\u9ED8\u8BA4:false) -\u6FC0\u6D3B\u4E0B\u62C9\u83DC\u5355\u8FC7\u6EE4\u5B57\u6BB5\u5934\u5C5E\u6027"},{prop:"valueFilter",type:"Boolean",desc:"\u53EF\u9009(\u9ED8\u8BA4:false) -\u6FC0\u6D3B\u4E0B\u62C9\u83DC\u5355\u8FC7\u6EE4\u5B57\u6BB5\u503C"},{prop:"valueFilterSlotName",type:"Boolean",desc:"\u53EF\u9009\u2014\u7528\u4E8E\u683C\u5F0F\u5316\u5B57\u6BB5\u503C\u9009\u62E9\u4E0B\u62C9\u5217\u8868\u4E2D\u7684\u503C\u7684\u69FD\u540D"}],docData3:[{prop:"slotName",type:"String",desc:"\u7528\u4E8E\u683C\u5F0F\u5316\u6570\u636E\u900F\u89C6\u8868\u5934\u90E8\u7684\u69FD\u540D"},{prop:"label",type:"String",desc:"\u5982\u679CheaderAttributeFilter\u88AB\u6FC0\u6D3B\uFF0C\u5728\u5B57\u6BB5\u4E0B\u62C9:\u6807\u7B7E\u663E\u793A\u5728\u590D\u9009\u6846\u65C1\u8FB9"},{prop:"checked",type:"Boolean",desc:"\u5982\u679CheaderAttributeFilter\u88AB\u6FC0\u6D3B\uFF0C\u5728\u4E0B\u62C9\u5B57\u6BB5\u4E2D:\u9ED8\u8BA4\u590D\u9009\u6846\u503C"}],docData4:[{slot:"<field label slot name>",scope:"",desc:"\u663E\u793A\u5728\u5B57\u6BB5\u53EF\u62D6\u52A8\u6807\u7B7E\u4E2D\u7684\u5185\u5BB9"},{slot:"<field header slot name>",scope:"{ value }",desc:"\u5B57\u6BB5\u7684\u8868\u5934\u5185\u5BB9\uFF0C\u4ECE\u5B57\u6BB5\u5934slotname\u5C5E\u6027\u5F15\u7528"},{slot:"<field value filter slot name>",scope:"{ value }",desc:"\u5982\u679C\u5B57\u6BB5valueFilter prop\u88AB\u8BBE\u7F6E\u4E3Atrue:\u590D\u9009\u6846\u65C1\u8FB9\u83DC\u5355\u4E2D\u7684\u5185\u5BB9"},{slot:"value",scope:"{ value, row, col }",desc:"\u5355\u5143\u683C\u5185\u5BB9"}],docData5:[{prop:"data",type:"Array",default:"[]",desc:"pivot\u8868\u683C\u6570\u636E\u96C6"},{prop:"row-fields",type:"Array",default:"[]",desc:"\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u4F5C\u4E3A\u884C\u4F7F\u7528\u7684\u5B57\u6BB5"},{prop:"col-fields",type:"Array",default:"[]",desc:"\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u4F5C\u4E3A\u5217\u4F7F\u7528\u7684\u5B57\u6BB5"},{prop:"reducer",type:"function",default:"(sum, item) => sum + 1",desc:"\u8BA1\u7B97\u8868\u6570\u636E\u7D2F\u52A0\u5668"},{prop:"reducer-initial-value",type:"any",default:"0",desc:"\u7D2F\u52A0\u5668\u521D\u59CB\u503C"},{prop:"no-data-warning-text",type:"String",default:"No data to display.",desc:"\u65E0\u6570\u636E\u6587\u5B57"},{prop:"is-data-loading",type:"Boolean",default:"false",desc:"\u662F\u5426\u52A0\u8F7D"}],docData6:[{prop:"getter",type:"Function",desc:"\u51FD\u6570\u5E94\u7528\u4E8E\u6570\u636E\u5143\u7D20\u4EE5\u83B7\u53D6\u5B57\u6BB5\u503C\uFF0C\u5982 getter: item => item.country"},{prop:"sort",type:"Function",desc:"\u53EF\u9009-\u5728pivot\u8868\u5934\u4E2D\u6392\u5E8F\u5B57\u6BB5\u7684\u51FD\u6570;\u5982\u679C\u6CA1\u6709\u63D0\u4F9B\u503C\uFF0C\u5C06\u5E94\u7528javascript-natural-sort"},{prop:"showHeader",type:"Boolean",desc:"\u53EF\u9009(\u9ED8\u8BA4\u503C:true)\u2014\u6807\u9898\u662F\u5426\u5E94\u8BE5\u663E\u793A\u5728\u6570\u636E\u900F\u89C6\u8868\u4E2D"},{prop:"showFooter",type:"Boolean",desc:"\u53EF\u9009(\u9ED8\u8BA4:false)\u2014\u9875\u811A\u662F\u5426\u5E94\u8BE5\u663E\u793A\u5728\u900F\u89C6\u8868\u4E2D"},{prop:"headerSlotName",type:"String",desc:"\u53EF\u9009-\u7528\u4E8E\u683C\u5F0F\u5316\u6570\u636E\u900F\u89C6\u8868\u5934\u90E8\u7684\u69FD\u540D;\u5982\u679C\u6CA1\u6709\u63D0\u4F9B\u69FD\u4F4D\u540D\u79F0\uFF0C\u5219\u8BE5\u503C\u5C06\u663E\u793A\u4E3Adata\u4E2D\u627E\u5230\u7684\u503C"},{prop:"headerSlotNames",type:"String[]",desc:"\u53EF\u9009-\u7528\u4E8E\u5728\u6570\u636E\u900F\u89C6\u8868\u4E2D\u683C\u5F0F\u5316\u6807\u9898\u7684\u69FD\u540D"},{prop:"footerSlotName",type:"String",desc:"\u4E0E\u4E0A\u9762\u8868\u5934\u63D2\u69FD\u96F7\u540C"},{prop:"footerSlotNames",type:"String[]",desc:"\u4E0E\u4E0A\u9762\u8868\u5934\u63D2\u69FD\u96F7\u540C"},{prop:"valuesFiltered",type:"Set",desc:"\u53EF\u9009-\u4E00\u7EC4\u503C\u6765\u8FC7\u6EE4\u663E\u793A\u7684\u884C/\u5217"}]}}},Ht=f("Fields"),Vt=f("headers"),At=f("PivotTable"),Dt=f("row-fields/col-fields");function Et(e,t,a,n,s,d){const w=C("b-table"),v=C("b-collapse-panel"),h=C("b-tag"),_=C("b-divider"),u=C("b-collapse");return o(),M(u,{simple:""},{default:p(()=>[y(v,{title:"Pivot component",name:"1"},{default:p(()=>[y(w,{columns:s.docCol1,data:s.docData1,size:"small",border:""},null,8,["columns","data"])]),_:1}),y(v,{title:"fields element format",name:"2"},{default:p(()=>[y(h,{type:"primary",dark:""},{default:p(()=>[Ht]),_:1}),y(w,{columns:s.docCol2,data:s.docData2,size:"small",border:""},null,8,["columns","data"]),y(_),y(h,{type:"primary",dark:""},{default:p(()=>[Vt]),_:1}),y(w,{columns:s.docCol2,data:s.docData3,size:"small",border:""},null,8,["columns","data"])]),_:1}),y(v,{title:"Slots",name:"3"},{default:p(()=>[y(w,{columns:s.docCol3,data:s.docData4,size:"small",border:""},null,8,["columns","data"])]),_:1}),y(v,{title:"PivotTable component",name:"4"},{default:p(()=>[y(h,{type:"primary",dark:""},{default:p(()=>[At]),_:1}),y(w,{columns:s.docCol1,data:s.docData5,size:"small",border:""},null,8,["columns","data"]),y(_),y(h,{type:"primary",dark:""},{default:p(()=>[Dt]),_:1}),y(w,{columns:s.docCol2,data:s.docData6,size:"small",border:""},null,8,["columns","data"])]),_:1})]),_:1})}var xt=x(Nt,[["render",Et]]),ae=[{country:"United States",year:2010,gender:"male",count:153295220},{country:"United States",year:2010,gender:"female",count:156588400},{country:"United States",year:2011,gender:"male",count:154591960},{country:"United States",year:2011,gender:"female",count:157800200},{country:"United States",year:2012,gender:"male",count:155851840},{country:"United States",year:2012,gender:"female",count:158944800},{country:"China",year:2010,gender:"male",count:690256342},{country:"China",year:2010,gender:"female",count:650712406},{country:"China",year:2011,gender:"male",count:694106441},{country:"China",year:2011,gender:"female",count:654068030},{country:"China",year:2012,gender:"male",count:697964288},{country:"China",year:2012,gender:"female",count:657422649},{country:"India",year:2010,gender:"male",count:638354751},{country:"India",year:2010,gender:"female",count:592629727},{country:"India",year:2011,gender:"male",count:646873890},{country:"India",year:2011,gender:"female",count:600572093},{country:"India",year:2012,gender:"male",count:655193693},{country:"India",year:2012,gender:"female",count:608395922},{country:"France",year:2010,gender:"male",count:30675773},{country:"France",year:2010,gender:"female",count:32285363},{country:"France",year:2011,gender:"male",count:30815839},{country:"France",year:2011,gender:"female",count:32452566},{country:"France",year:2012,gender:"male",count:30948916},{country:"France",year:2012,gender:"female",count:32612882},{country:"Australia",year:2010,gender:"male",count:11124254},{country:"Australia",year:2010,gender:"female",count:11218144},{country:"Australia",year:2011,gender:"male",count:11260747},{country:"Australia",year:2011,gender:"female",count:11359807},{country:"Australia",year:2012,gender:"male",count:11280804},{country:"Australia",year:2012,gender:"female",count:11402769}],Kt=[{country:"United States",year:2010,count:309883620,gdp:14992052727e3},{country:"United States",year:2011,count:312392160,gdp:152245548035749e-1},{country:"United States",year:2012,count:311703680,gdp:155670381447034e-1},{country:"China",year:2010,count:1340968748,gdp:608716387451073e-2},{country:"China",year:2011,count:1348174471,gdp:666853868061758e-2},{country:"China",year:2012,count:1355386937,gdp:719293498743843e-2},{country:"India",year:2010,count:1230984478,gdp:167561533560056e-2},{country:"India",year:2011,count:1247445983,gdp:176343961355183e-2},{country:"India",year:2012,count:1263589615,gdp:185965973429044e-2},{country:"France",year:2010,count:62961136,gdp:264260954893036e-2},{country:"France",year:2011,count:63268405,gdp:270055406522866e-2},{country:"France",year:2012,count:63561798,gdp:270901043847852e-2},{country:"Australia",year:2010,count:22342398,gdp:114613846560381e-2},{country:"Australia",year:2011,count:22620554,gdp:117436506300545e-2},{country:"Australia",year:2012,count:22683573,gdp:122037859887343e-2}];const q=[];Kt.forEach(e=>{q.push({country:e.country,year:e.year,type:"count",count:e.count}),q.push({country:e.country,year:e.year,type:"gdp",gdp:e.gdp})});const Bt={name:"PivotDemo",components:{PivotDoc:xt,PivotTable:te,Pivot:zt,PageWrapper:ie},data(){return{data:ae,asyncData:[],dataGdpFlattened:q,fields:[{key:"country",getter:e=>e.country,label:"Country",headers:[{slotName:"countryFlagHeader",label:"Flag",checked:!0},{slotName:"countryNameHeader",label:"Name",checked:!0}],headerAttributeFilter:!0,valueFilter:!0},{key:"gender",getter:e=>e.gender,label:"Gender",headerSlotName:"genderHeader",valueFilter:!0,valueFilterSlotName:"genderHeader"},{key:"year",getter:e=>e.year,label:"Year",valueFilter:!0}],availableFieldKeys:[],rowFieldKeys:["country","gender"],colFieldKeys:["year"],reducer:(e,t)=>e+t.count,defaultShowSettings:!0,isDataLoading:!1,rowFields:[{getter:e=>e.country,label:"Country",headerSlotNames:["countryFlagHeader","countryNameHeader"]},{getter:e=>e.gender,label:"Gender",headerSlotName:"genderHeader"}],colFields:[{getter:e=>e.year,label:"Year"}],fieldsGdp:[{key:"country",getter:e=>e.country,label:"Country",headers:[{slotName:"countryFlagHeader",label:"Flag",checked:!0},{slotName:"countryNameHeader",label:"Name",checked:!0}],headerAttributeFilter:!0,valueFilter:!0},{key:"year",getter:e=>e.year,label:"Year",valueFilter:!0},{key:"type",getter:e=>e.type,headerSlotName:"typeHeader",label:"Type",valueFilter:!0,valueFilterSlotName:"typeHeader"}],availableFieldKeysGdp:[],rowFieldKeysGdp:["country","type"],colFieldKeysGdp:["year"],reducerGdp:(e,t)=>(t.type==="count"?e.count+=t.count:t.type==="gdp"&&(e.gdp+=t.gdp),e)}},methods:{countryCode(e){switch(e){case"Australia":return"au";case"China":return"cn";case"France":return"fr";case"India":return"in";case"United States":return"us"}},countryEmoji(e){const a=this.countryCode(e).toUpperCase().split("").map(n=>127397+n.charCodeAt());return String.fromCodePoint(...a)}},created(){this.isDataLoading=!0,setTimeout(()=>{this.asyncData=ae,this.isDataLoading=!1},300)}},Mt={class:"p16",style:{"--bin-border-base-radius":"0"}},Lt={key:0,"aria-hidden":"true","data-prefix":"fas","data-icon":"venus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 288 512",class:"svg-inline--fa fa-venus fa-fw",style:{width:"15px",height:"15px",position:"relative",top:"2px"}},Tt=c("path",{fill:"currentColor",d:"M288 176c0-79.5-64.5-144-144-144S0 96.5 0 176c0 68.5 47.9 125.9 112 140.4V368H76c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h36v36c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-36h36c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-36v-51.6c64.1-14.5 112-71.9 112-140.4zm-224 0c0-44.1 35.9-80 80-80s80 35.9 80 80-35.9 80-80 80-80-35.9-80-80z",class:""},null,-1),Ut=[Tt],Pt={key:1,"aria-hidden":"true","data-prefix":"fas","data-icon":"mars",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",class:"svg-inline--fa fa-mars fa-fw",style:{width:"15px",height:"15px",position:"relative",top:"2px"}},jt=c("path",{fill:"currentColor",d:"M372 64h-79c-10.7 0-16 12.9-8.5 20.5l16.9 16.9-80.7 80.7c-22.2-14-48.5-22.1-76.7-22.1C64.5 160 0 224.5 0 304s64.5 144 144 144 144-64.5 144-144c0-28.2-8.1-54.5-22.1-76.7l80.7-80.7 16.9 16.9c7.6 7.6 20.5 2.2 20.5-8.5V76c0-6.6-5.4-12-12-12zM144 384c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z",class:""},null,-1),Gt=[jt],Rt={class:"p16"},Wt={key:0,"aria-hidden":"true","data-prefix":"fas","data-icon":"venus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 288 512",class:"svg-inline--fa fa-venus fa-fw",style:{width:"15px",height:"15px",position:"relative",top:"2px"}},Ot=c("path",{fill:"currentColor",d:"M288 176c0-79.5-64.5-144-144-144S0 96.5 0 176c0 68.5 47.9 125.9 112 140.4V368H76c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h36v36c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-36h36c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-36v-51.6c64.1-14.5 112-71.9 112-140.4zm-224 0c0-44.1 35.9-80 80-80s80 35.9 80 80-35.9 80-80 80-80-35.9-80-80z",class:""},null,-1),Yt=[Ot],qt={key:1,"aria-hidden":"true","data-prefix":"fas","data-icon":"mars",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",class:"svg-inline--fa fa-mars fa-fw",style:{width:"15px",height:"15px",position:"relative",top:"2px"}},Jt=c("path",{fill:"currentColor",d:"M372 64h-79c-10.7 0-16 12.9-8.5 20.5l16.9 16.9-80.7 80.7c-22.2-14-48.5-22.1-76.7-22.1C64.5 160 0 224.5 0 304s64.5 144 144 144 144-64.5 144-144c0-28.2-8.1-54.5-22.1-76.7l80.7-80.7 16.9 16.9c7.6 7.6 20.5 2.2 20.5-8.5V76c0-6.6-5.4-12-12-12zM144 384c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z",class:""},null,-1),$t=[Jt],Qt={class:"p16"},Xt={key:0},Zt={key:1},It=f("Population"),ea=f("GDP"),ta={key:0,"aria-hidden":"true","data-prefix":"fas","data-icon":"venus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 288 512",class:"svg-inline--fa fa-venus fa-fw",style:{width:"15px",height:"15px",position:"relative",top:"2px"}},aa=c("path",{fill:"currentColor",d:"M288 176c0-79.5-64.5-144-144-144S0 96.5 0 176c0 68.5 47.9 125.9 112 140.4V368H76c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h36v36c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-36h36c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-36v-51.6c64.1-14.5 112-71.9 112-140.4zm-224 0c0-44.1 35.9-80 80-80s80 35.9 80 80-35.9 80-80 80-80-35.9-80-80z",class:""},null,-1),la=[aa],oa={key:1,"aria-hidden":"true","data-prefix":"fas","data-icon":"mars",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",class:"svg-inline--fa fa-mars fa-fw",style:{width:"15px",height:"15px",position:"relative",top:"2px"}},ra=c("path",{fill:"currentColor",d:"M372 64h-79c-10.7 0-16 12.9-8.5 20.5l16.9 16.9-80.7 80.7c-22.2-14-48.5-22.1-76.7-22.1C64.5 160 0 224.5 0 304s64.5 144 144 144 144-64.5 144-144c0-28.2-8.1-54.5-22.1-76.7l80.7-80.7 16.9 16.9c7.6 7.6 20.5 2.2 20.5-8.5V76c0-6.6-5.4-12-12-12zM144 384c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z",class:""},null,-1),sa=[ra],na={class:"p16"};function ia(e,t,a,n,s,d){const w=C("pivot"),v=C("b-collapse-wrap"),h=C("pivot-table"),_=C("pivot-doc"),u=C("page-wrapper");return o(),M(u,{title:"Pivot Table",desc:"\u4EA4\u53C9\u8868\uFF0C\u6839\u636E\u4E0D\u540C\u914D\u7F6E\u52A8\u6001\u83B7\u53D6\u4E0D\u540C\u7684\u8868\u683C\u663E\u793A\u3002"},{default:p(()=>[y(v,{title:"Pivot (drag & drop UI + PivotTable)",shadow:"none",collapse:""},{default:p(()=>[c("div",Mt,[y(w,{data:s.data,fields:s.fields,"available-field-keys":s.availableFieldKeys,"row-field-keys":s.rowFieldKeys,"col-field-keys":s.colFieldKeys,reducer:s.reducer},{value:p(({value:l})=>[f(g(l.toLocaleString()),1)]),countryFlagHeader:p(({value:l})=>[f(g(d.countryEmoji(l)),1)]),countryNameHeader:p(({value:l})=>[f(g(l.replace(/\b\w/g,i=>i.toUpperCase())),1)]),genderHeader:p(({value:l})=>[l==="female"?(o(),r("svg",Lt,Ut)):l==="male"?(o(),r("svg",Pt,Gt)):F("",!0),f(" "+g(l),1)]),_:1},8,["data","fields","available-field-keys","row-field-keys","col-field-keys","reducer"])])]),_:1}),y(v,{title:"PivotTable (standalone)",shadow:"none","model-value":!1,collapse:""},{default:p(()=>[c("div",Rt,[y(h,{data:s.asyncData,"row-fields":s.rowFields,"col-fields":s.colFields,reducer:s.reducer,"default-show-settings":s.defaultShowSettings,"is-data-loading":s.isDataLoading},{value:p(({value:l})=>[f(g(l.toLocaleString()),1)]),countryFlagHeader:p(({value:l})=>[f(g(d.countryEmoji(l)),1)]),countryNameHeader:p(({value:l})=>[f(g(l.replace(/\b\w/g,i=>i.toUpperCase())),1)]),genderHeader:p(({value:l})=>[l==="female"?(o(),r("svg",Wt,Yt)):l==="male"?(o(),r("svg",qt,$t)):F("",!0),f(" "+g(l),1)]),_:1},8,["data","row-fields","col-fields","reducer","default-show-settings","is-data-loading"])])]),_:1}),y(v,{title:"Pivot with advanced reducer",shadow:"none","model-value":!1,collapse:""},{default:p(()=>[c("div",Qt,[y(w,{data:s.dataGdpFlattened,fields:s.fieldsGdp,"available-field-keys":s.availableFieldKeysGdp,"row-field-keys":s.rowFieldKeysGdp,"col-field-keys":s.colFieldKeysGdp,reducer:s.reducerGdp,"reducer-initial-value":{count:0,gdp:0},"default-show-settings":s.defaultShowSettings},{value:p(({value:l})=>[l.count?(o(),r("div",Xt,g(l.count.toLocaleString()),1)):F("",!0),l.gdp?(o(),r("div",Zt,g(l.gdp.toLocaleString()),1)):F("",!0)]),countryFlagHeader:p(({value:l})=>[f(g(d.countryEmoji(l)),1)]),countryNameHeader:p(({value:l})=>[f(g(l.replace(/\b\w/g,i=>i.toUpperCase())),1)]),typeHeader:p(({value:l})=>[l==="count"?(o(),r(m,{key:0},[It],64)):F("",!0),l==="gdp"?(o(),r(m,{key:1},[ea],64)):F("",!0)]),genderHeader:p(({value:l})=>[l==="female"?(o(),r("svg",ta,la)):l==="male"?(o(),r("svg",oa,sa)):F("",!0),f(" "+g(l),1)]),_:1},8,["data","fields","available-field-keys","row-field-keys","col-field-keys","reducer","default-show-settings"])])]),_:1}),y(v,{title:"Pivot Doc",shadow:"none","model-value":!1,collapse:""},{default:p(()=>[c("div",na,[y(_)])]),_:1})]),_:1})}var ga=x(Bt,[["render",ia]]);export{ga as default};
