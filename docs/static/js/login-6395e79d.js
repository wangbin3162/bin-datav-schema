import{e as v,v as y,t as m,_ as w}from"./index-bb6c43e3.js";import{as as x,at as k,J as r,o as V,A as L,u as s,B as n,t as q,w as i,H as p,az as j,aA as z,q as S}from"./vendor-4f77c8c8.js";import{_ as B}from"./logo-39114ead.js";import"./chunk-bin-ui-next-d590380f.js";import"./chunk-brace-7fd40d4c.js";const C={name:"Login",components:{BackgroundParticles:k(()=>w(()=>import("./index-9a442d62.js"),["static/js/index-9a442d62.js","static/css/index-efdd0812.css","static/js/vendor-4f77c8c8.js","static/css/vendor-2b79d43b.css","static/js/chunk-brace-7fd40d4c.js"]))},data(){return{formLogin:{username:"",password:"",verycode:"",uuid:""},loading:!1,rules:{username:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}],verycode:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",trigger:"blur"}]},title:v.description}},methods:{submit(){this.$refs.loginForm.validate(async e=>{if(e){try{this.loading=!0;const{data:o}=await y(this.formLogin);await this.loginSuccess(o)}catch(o){m("login/requestFailed",o)}this.loading=!1}})},async loginSuccess(e){if(e.code==="00"){const o=e.data.accessToken;await this.$store.dispatch("user/setToken",o);const c=this.$route.query.redirect||"/";await this.$router.push({path:c})}else m("login/requestFailed",e)}}},g=e=>(j("data-v-3ba78a4e"),e=e(),z(),e),I={class:"page-login"},K={class:"layer"},A={class:"content",flex:"dir:top main:center cross:center"},E={class:"main",flex:"dir:top main:center cross:center"},F={class:"page-login--logo"},T=g(()=>n("img",{src:B,alt:"logo"},null,-1)),N={class:"form"},P=S(" \u767B\u5F55 "),D=g(()=>n("div",{class:"footer"},null,-1));function U(e,o,c,H,t,a){const f=r("background-particles"),d=r("b-icon"),u=r("b-input"),_=r("b-form-item"),b=r("b-button"),h=r("b-form");return V(),L("div",I,[s(f),n("div",K,[n("div",A,[n("div",E,[n("div",F,[T,n("span",null,q(t.title),1)]),n("div",N,[s(h,{ref:"loginForm","label-position":"top",rules:t.rules,model:t.formLogin},{default:i(()=>[s(_,{prop:"username"},{default:i(()=>[s(u,{type:"text",modelValue:t.formLogin.username,"onUpdate:modelValue":o[0]||(o[0]=l=>t.formLogin.username=l),placeholder:"\u6D4B\u8BD5\u7528\u6237\u540D\uFF1Aadmin",size:"large",onKeydown:p(a.submit,["enter"])},{prefix:i(()=>[s(d,{name:"user",size:"16"})]),_:1},8,["modelValue","onKeydown"])]),_:1}),s(_,{prop:"password"},{default:i(()=>[s(u,{type:"password",modelValue:t.formLogin.password,"onUpdate:modelValue":o[1]||(o[1]=l=>t.formLogin.password=l),placeholder:"\u6D4B\u8BD5\u5BC6\u7801\uFF1A123456",size:"large",onKeydown:p(a.submit,["enter"])},{prefix:i(()=>[s(d,{name:"lock",size:"16"})]),_:1},8,["modelValue","onKeydown"])]),_:1}),s(b,{onClick:a.submit,loading:t.loading,type:"primary",class:"button-login",size:"large"},{default:i(()=>[P]),_:1},8,["onClick","loading"])]),_:1},8,["rules","model"])])]),D])])])}var Q=x(C,[["render",U],["__scopeId","data-v-3ba78a4e"]]);export{Q as default};
