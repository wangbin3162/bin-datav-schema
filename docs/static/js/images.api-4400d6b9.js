import{g as y,u as I,a as l,f as i}from"./index-71bcd248.js";import{am as p,aK as n}from"./vendor-c1103bdb.js";const w=[{key:"bg",value:"\u80CC\u666F"},{key:"header",value:"\u5934\u90E8"},{key:"box",value:"\u8FB9\u6846"},{key:"decoration",value:"\u88C5\u9970"},{key:"widget",value:"\u66F4\u591A"}],G=w.map(a=>a.key);async function h(a){try{const t=y(`/${a}/index.json`);return(await p.get(t)).data.map(r=>({...r,group:a,src:y(`/${a}/${r.src}`)}))}catch{return[]}}const g="IMAGES_GROUP",m="IMAGES_LIB",c=async()=>n.getItem(g),o=async a=>n.setItem(g,l(a)),f=async()=>n.getItem(m),u=async a=>n.setItem(m,l(a));async function x(){try{const a=await c();return a||(await o([]),[])}catch{return[]}}async function _(a){try{const t=await c();return t?(t.push(a),await o(t),!0):!1}catch{return!1}}async function L(a){try{const t=await c();if(t){const e=i(t,a.key,"key");return t[e].value=a.value,await o(t),a.key}return!1}catch{return!1}}async function A(a){try{const t=await c();if(t){const e=i(t,a,"key");return t.splice(e,1),await o(t),!0}return!1}catch{return!1}}async function E(a){try{if(G.includes(a))return await h(a);const t=await f();return t?t.filter(e=>e.groupKey===a).reverse():[]}catch{return[]}}async function M(a){try{const t=a.map(s=>({id:I(),...s})),e=await f();if(e){const s=e.concat(t);return await u(s),!0}return await u(t),!1}catch{return!1}}async function P(a,t){try{const e=await f();if(e){const s=e.filter(d=>d.groupKey===a),r=i(s,t);return s.splice(r,1),await u(s),!0}return!1}catch{return!1}}export{w as a,E as b,A as c,G as d,_ as e,x as g,L as m,P as r,M as u};
