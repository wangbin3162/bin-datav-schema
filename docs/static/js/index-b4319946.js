var $t=Object.defineProperty;var Ae=Object.getOwnPropertySymbols;var Lt=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable;var Ie=(o,t,n)=>t in o?$t(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,oe=(o,t)=>{for(var n in t||(t={}))Lt.call(t,n)&&Ie(o,n,t[n]);if(Ae)for(var n of Ae(t))Wt.call(t,n)&&Ie(o,n,t[n]);return o};import{at as F,l as k,o as b,a as w,g as V,a5 as Be,aI as ht,m as T,s as he,n as Se,H as v,f as O,w as _,c as m,F as U,j as re,b as a,e as L,t as J,B as xe,k as pe,Y as De,N as pt,h as W,O as te,L as gt,aK as Rt,$ as jt,D as ve,U as At,aE as ye,aF as we,E as ke,v as bt,d as _t,u as ee,X as It,a1 as S,M as vt,a0 as Nt,aL as Ot,T as Ft}from"./vendor-38ba0469.js";import{u as R,z as Me,A as $e,s as Ut,t as Le,i as Yt,B as Pt,o as Te,C as q,D as Z,M as ie,E as j,F as A,a as ae,G as K,H as E,g as Et,I as Ht,q as Xt,J as Gt,f as Kt,w as Jt,j as qt,K as Zt,_ as Qt,l as eo}from"./index-e6a17aa2.js";import{M as fe,a as yt}from"./chunk-bin-ui-next-c6419b41.js";import{a as to,g as wt,b as oo}from"./database.api-48cee5a9.js";import{d as ao,a as no}from"./file-helper-94af9014.js";import{s as lo,l as so}from"./template.api-4884e6ed.js";import{_ as io}from"./config-ae0e6eab.js";import{_ as ro}from"./config-cfebb493.js";import{r as co,p as uo,m as mo}from"./select-options-cf7d80b0.js";import"./chunk-brace-a5f4a3e9.js";const fo={name:"HeadLoading",setup(){const{schemaStore:o,storeToRefs:t}=R(),{toolbar:n}=t(o);return{loading:k(()=>n.value.loading)}}};function ho(o,t,n,e,d,s){return b(),w("div",{class:V(["loading-indicator",{loading:e.loading}])},null,2)}var po=F(fo,[["render",ho],["__scopeId","data-v-5475ad30"]]);function St(){const o=Be(),{schemaStore:t,storeToRefs:n}=R(),{pageInfo:e,pageConfig:d,comps:s}=n(t);async function r(l="edit"){const c={id:e.value.id||o.query.id,name:e.value.name,pid:e.value.pid,status:l,layout:JSON.stringify(d.value),components:s.value.map(h=>Me(h.apiData)?{name:h.alias,componentType:h.componentType,componentContent:JSON.stringify(h),componentDataType:$e.static,modelId:"",x:[],y:[],drill:[],filters:[]}:{name:h.alias,componentType:h.componentType,componentDataType:h.apiData.type,modelId:h.apiData.config.modelId,componentContent:JSON.stringify(h),x:h.apiData.config.x,y:h.apiData.config.y,drill:[],filters:[]})};try{return await Ut(c)}catch(h){Le("userSchemaStore/saveScreenData",h)}return""}async function i(){let l={};try{t.setGlobalLoading(!0);const c={pageInfo:{id:e.value.id,name:e.value.name||"\u770B\u677F\u9884\u89C8",pid:e.value.pid||"1"},pageConfig:d.value,comps:s.value};l=await to(c)}catch{l={}}return t.setGlobalLoading(!1),l}return{saveScreenData:r,previewScreen:i}}const go={name:"save-screen",props:{modelValue:{type:Boolean},status:{type:String,default:"edit",validator:o=>["edit","audited"].includes(o)}},emits:["update:modelValue"],setup(o,t){const n=k({get:()=>o.modelValue,set:y=>t.emit("update:modelValue",y)}),{schemaStore:e,storeToRefs:d}=R(),{pageInfo:s}=d(e),{saveScreenData:r}=St(),i=ht(),l=Be(),c=T([]),h=T(null),f=T(!1),p=k(()=>`${window.location.origin}/#/screen/${l.query.id}`);Yt().then(y=>{c.value=y.data?[y.data]:[]});const u=k(()=>o.status==="edit"?"\u4FDD\u5B58\u770B\u677F":"\u53D1\u5E03\u770B\u677F"),g=()=>{h.value&&h.value.validate(async y=>{if(y){let B="";try{f.value=!0,B=await r(o.status)}catch(C){Le("save-screes/saveKanban",C)}f.value=!1,n.value=!1,fe.success({message:"\u4FDD\u5B58\u6210\u529F\uFF01",showClose:!0}),setTimeout(()=>{if(B&&!s.value.id){let X=i.resolve({path:"/schema/screen",query:{id:B}});window.location.replace(X.href)}},300)}})},x=()=>{Se(()=>{Pt(p.value)&&fe.success("\u590D\u5236\u53D1\u5E03\u5730\u5740\u6210\u529F!")})};return he(()=>o.modelValue,y=>{y&&Se(()=>{h.value&&h.value.resetFields()})}),{formRef:h,pageInfo:s,dirTree:c,loading:f,visible:n,saveKanban:g,btnText:u,shareUrl:p,copyUrl:x}}},bo=L("\u590D\u5236\u9884\u89C8\u5730\u5740"),_o={class:"t-center"};function vo(o,t,n,e,d,s){const r=v("b-input"),i=v("b-form-item"),l=v("g-input"),c=v("b-button"),h=v("b-form"),f=v("b-modal");return b(),O(f,{modelValue:e.visible,"onUpdate:modelValue":t[2]||(t[2]=p=>e.visible=p),"append-to-body":"",title:e.btnText,top:"200px","custom-class":"schema-modal",onClose:t[3]||(t[3]=p=>e.visible=!1)},{default:_(()=>[m(h,{"label-width":"80px",ref:"formRef",model:e.pageInfo,"label-suffix":":"},{default:_(()=>[m(i,{label:"\u770B\u677F\u540D\u79F0",prop:"name",rules:{required:!0,message:"\u770B\u677F\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}},{default:_(()=>[m(r,{modelValue:e.pageInfo.name,"onUpdate:modelValue":t[0]||(t[0]=p=>e.pageInfo.name=p)},null,8,["modelValue"])]),_:1}),n.status==="audited"&&o.$route.query.id?(b(),w(U,{key:0},[m(i,{label:"\u9884\u89C8\u5730\u5740"},{default:_(()=>[m(l,{modelValue:e.shareUrl,"onUpdate:modelValue":t[1]||(t[1]=p=>e.shareUrl=p),readonly:"",type:"textarea",autosize:{minRows:3}},null,8,["modelValue"])]),_:1}),m(i,null,{default:_(()=>[m(c,{type:"text",onClick:e.copyUrl},{default:_(()=>[bo]),_:1},8,["onClick"])]),_:1})],64)):re("",!0)]),_:1},8,["model"]),a("div",_o,[m(c,{type:"primary",onClick:e.saveKanban,loading:e.loading,style:{width:"200px"}},{default:_(()=>[L(J(e.btnText),1)]),_:1},8,["onClick","loading"])])]),_:1},8,["modelValue","title"])}var yo=F(go,[["render",vo]]);const wo={name:"save-template",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(o,t){const{schemaStore:n,storeToRefs:e}=R(),{pageConfig:d,comps:s}=e(n),r=T(null),i=xe({loading:!1,id:`temp_${Te()}`,name:""}),l=k({get:()=>o.modelValue,set:p=>t.emit("update:modelValue",p)}),c=k(()=>({template:{id:i.id,name:i.name},pageConfig:d.value,comps:s.value})),h=()=>{r.value&&r.value.validate(async p=>{if(p){const u=c.value,g=JSON.stringify(u);ao(g,`${u.template.id}.json`),fe.success({message:"\u6A21\u677F\u6587\u4EF6\u5DF2\u4FDD\u5B58\uFF01",showClose:!0})}})},f=async()=>{r.value&&r.value.validate(async p=>{if(p){try{i.loading=!0;const u=c.value,g=u.template.name,x=JSON.stringify(u);await lo({name:g,content:x})}catch(u){Le("save-template/saveAsTemplate",u)}i.loading=!1,l.value=!1,fe.success({message:"\u6A21\u677F\u5DF2\u4FDD\u5B58\uFF01",showClose:!0})}})};return he(()=>o.modelValue,p=>{p&&(r.value&&r.value.resetFields(),i.id=`temp_${Te()}`)}),{formRef:r,formStatus:i,visible:l,downloadCfg:h,saveAsTemplate:f}}},So={class:"t-center"},xo=L(" \u914D\u7F6E\u6587\u4EF6 "),Co=L(" \u4FDD\u5B58\u6A21\u677F ");function ko(o,t,n,e,d,s){const r=v("b-input"),i=v("b-form-item"),l=v("b-form"),c=v("b-button"),h=v("b-modal");return b(),O(h,{modelValue:e.visible,"onUpdate:modelValue":t[1]||(t[1]=f=>e.visible=f),"append-to-body":"",title:"\u4FDD\u5B58\u4E3A\u6A21\u677F",top:"200px","custom-class":"schema-modal",onClose:t[2]||(t[2]=f=>e.visible=!1)},{default:_(()=>[m(l,{"label-width":"80px",ref:"formRef",model:e.formStatus,"label-suffix":":"},{default:_(()=>[m(i,{label:"\u6A21\u677F\u540D\u79F0",prop:"name",rules:{required:!0,message:"\u6A21\u677F\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}},{default:_(()=>[m(r,{modelValue:e.formStatus.name,"onUpdate:modelValue":t[0]||(t[0]=f=>e.formStatus.name=f)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),a("div",So,[m(c,{type:"primary",icon:"vertical-align-botto",transparent:"",style:{width:"120px"},onClick:e.downloadCfg},{default:_(()=>[xo]),_:1},8,["onClick"]),m(c,{type:"primary",icon:"save",style:{width:"120px"},loading:e.formStatus.loading,onClick:e.saveAsTemplate},{default:_(()=>[Co]),_:1},8,["loading","onClick"])])]),_:1},8,["modelValue"])}var Mo=F(wo,[["render",ko]]);const Vo={name:"header-bar",components:{SaveTemplate:Mo,SaveScreen:yo,HeadLoading:po},props:{backUrl:{type:String},backTarget:{type:String,default:"_blank",validator:o=>["_self","_blank"].includes(o)},pageStatus:{type:Object,default:()=>({})}},setup(o){const t=ht(),{schemaStore:n,storeToRefs:e}=R(),{pageInfo:d,toolbar:s}=e(n),{previewScreen:r}=St(),i=T(!1),l=T("edit"),c=T(!1);return{schemaStore:n,pageInfo:d,toolbar:s,saveVisible:i,saveStatus:l,tempVisible:c,handleBack:()=>{const x=o.backUrl||"/";if(o.backTarget==="_blank"){const y=t.resolve(x);window.open(y.href,o.backTarget)}else t.push(x)},handleSaveScreen:()=>{l.value="edit",i.value=!0},handPreview:async()=>{const x=await r();let y=t.resolve({path:`/screen/preview/${x.pageInfo.id}`});window.open(y.href,"_blank")},handlePublish:()=>{l.value="audited",i.value=!0},handleUpload:x=>x.type!=="application/json"?(fe.warning("\u8BF7\u9009\u62E9\u6B63\u786E\u7684json\u914D\u7F6E\u6587\u4EF6"),!1):(no(x).then(y=>{try{const B=JSON.parse(y),{comps:C,pageConfig:X}=B;n.loadScreenData({comps:C,pageConfig:X})}catch{console.warn("The imported file could not be converted to the correct JSON!")}}),!1)}}},zo={class:"header-container"},To={class:"left-actions"},Bo={class:"screen-info"},Do=a("span",null,"\u5206\u6790\u770B\u677F",-1),$o=a("span",{style:{padding:"0 6px 0 12px"}},"-",-1),Lo={class:"global-actions"},Wo={class:"head-btn"};function Ro(o,t,n,e,d,s){const r=v("b-icon"),i=v("b-tooltip"),l=v("b-space"),c=v("b-upload"),h=v("head-loading"),f=v("save-screen"),p=v("save-template");return b(),w(U,null,[a("div",zo,[a("div",To,[m(l,{size:"mini"},{default:_(()=>[m(i,{content:"\u7EC4\u4EF6","open-delay":500},{default:_(()=>[a("div",{class:V(["head-btn",{active:e.toolbar.components}]),onClick:t[0]||(t[0]=u=>e.schemaStore.toggleCompsPanel())},[m(r,{name:"hourglass",class:V(["com-list-icon",{"is-rotate":!e.toolbar.components}])},null,8,["class"])],2)]),_:1}),m(i,{content:"\u56FE\u5C42","open-delay":500},{default:_(()=>[a("div",{class:V(["head-btn",{active:e.toolbar.layer}]),onClick:t[1]||(t[1]=u=>e.schemaStore.toggleLayerPanel())},[m(r,{name:"container"})],2)]),_:1}),m(i,{content:"\u53F3\u4FA7\u9762\u677F","open-delay":500},{default:_(()=>[a("div",{class:V(["head-btn",{active:e.toolbar.config}]),onClick:t[2]||(t[2]=u=>e.schemaStore.toggleConfigPanel())},[m(r,{name:"control"})],2)]),_:1}),m(i,{content:"\u5DE5\u5177\u7BB1","open-delay":500},{default:_(()=>[a("div",{class:V(["head-btn",{active:e.toolbar.toolbox}]),onClick:t[3]||(t[3]=u=>e.schemaStore.toggleToolbox())},[m(r,{name:"shopping"})],2)]),_:1})]),_:1})]),a("div",Bo,[m(i,{content:"\u8FD4\u56DE","open-delay":500},{default:_(()=>[m(r,{name:"laptop",type:"button",onClick:e.handleBack},null,8,["onClick"])]),_:1}),Do,$o,pe(a("input",{class:"header-input",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",maxlength:"50",type:"text","onUpdate:modelValue":t[4]||(t[4]=u=>e.pageInfo.name=u)},null,512),[[De,e.pageInfo.name]])]),a("div",Lo,[m(l,{size:"mini"},{default:_(()=>[m(i,{content:"\u5BFC\u5165json (\u4F1A\u8986\u76D6\u6240\u6709\u5185\u5BB9\uFF01)","open-delay":500},{default:_(()=>[m(c,{action:"/","show-upload-list":!1,"before-upload":e.handleUpload},{default:_(()=>[a("div",Wo,[m(r,{name:"Import"})])]),_:1},8,["before-upload"])]),_:1}),m(i,{content:"\u4FDD\u5B58\u6A21\u677F","open-delay":500},{default:_(()=>[a("div",{class:"head-btn",onClick:t[5]||(t[5]=u=>e.tempVisible=!0)},[m(r,{name:"Storedprocedure"})])]),_:1}),m(i,{content:"\u4FDD\u5B58","open-delay":500},{default:_(()=>[a("div",{class:"head-btn",onClick:t[6]||(t[6]=(...u)=>e.handleSaveScreen&&e.handleSaveScreen(...u))},[m(r,{name:"save"})])]),_:1}),m(i,{content:"\u53D1\u5E03","open-delay":500},{default:_(()=>[a("div",{class:"head-btn",onClick:t[7]||(t[7]=(...u)=>e.handlePublish&&e.handlePublish(...u))},[m(r,{name:"send"})])]),_:1}),m(i,{content:"\u9884\u89C8","open-delay":500},{default:_(()=>[a("div",{class:"head-btn",onClick:t[8]||(t[8]=(...u)=>e.handPreview&&e.handPreview(...u))},[m(r,{name:"View"})])]),_:1})]),_:1})])]),m(h),m(f,{modelValue:e.saveVisible,"onUpdate:modelValue":t[9]||(t[9]=u=>e.saveVisible=u),status:e.saveStatus},null,8,["modelValue","status"]),m(p,{modelValue:e.tempVisible,"onUpdate:modelValue":t[10]||(t[10]=u=>e.tempVisible=u)},null,8,["modelValue"])],64)}var jo=F(Vo,[["render",Ro]]);const _e=xe({x:0,y:0});function We(o={}){const{schemaStore:t,storeToRefs:n}=R(),{contextMenu:e,selectedCom:d}=n(t),s=k(()=>{var h;return(h=d.value)==null?void 0:h.locked}),r=k(()=>{var h;return(h=d.value)==null?void 0:h.hided}),i=k(()=>({display:e.value.show?"block":"none",left:`${_e.x+10}px`,top:`${_e.y+10}px`,transform:document.documentElement.clientHeight-_e.y<250?"translate(0px, -100%)":""})),l=h=>{h.preventDefault(),d.value&&(_e.x=h.clientX,_e.y=h.clientY,e.value.show=!0,q(document,"click",c))},c=()=>{Z(document,"click",c),o&&o.beforeClose&&o.beforeClose(),e.value.show=!1};return{showMenu:l,isLocked:s,isHided:r,contextMenu:e,contextMenuStyle:i}}const Ao={name:"layer-panel",setup(){const{schemaStore:o,storeToRefs:t}=R(),{comps:n,toolbar:e,hoveredComId:d,selectedCom:s,renamingComId:r,multiSelect:i,multipleComs:l}=t(o),{showMenu:c}=We(),h=k(()=>!!s.value),f=k(()=>({opacity:s.value?1:.3})),p=k(()=>{var D;return{enable:!!s.value,checked:(D=s.value)==null?void 0:D.locked}}),u=k(()=>{var D;return{enable:!!s.value,checked:(D=s.value)==null?void 0:D.hided}});function g(D){return i.value?l.value.map(I=>I.id).includes(D.id):!Me(s.value)&&s.value.id===D.id}const x=k(()=>[...n.value].reverse()),y=D=>{s.value&&o.moveCom({id:s.value.id,moveType:D})};return{schemaStore:o,comps:n,toolbar:e,enableBtnClass:h,enableBtnStyle:f,moveUp:()=>y(ie.up),moveDown:()=>y(ie.down),moveTop:()=>y(ie.top),moveBottom:()=>y(ie.bottom),descComs:x,enableLockBtnClass:p,enableHideBtnClass:u,onEnter:D=>o.hoverCom(D),onLeave:()=>o.hoverCom(""),selectCom:D=>{const I=n.value.find(P=>P.id===D);I&&o.selectCom(I)},hoveredComId:d,selectedCom:s,renamingComId:r,showMenu:c,cancelSelectCom:()=>o.selectCom(),isSelected:g}}},Io={class:"layer-panel"},No={class:"layer-top"},Oo=a("div",{class:"layer-num pl-10"},"\u56FE\u5C42",-1),Fo=a("i",{class:"b-iconfont b-icon-left",title:"\u6536\u8D77"},null,-1),Uo=[Fo],Yo={class:"layer-toolbar layer-toolbar-top"},Po={class:"layer-manager-wrap"},Eo=["title","onMousedown","onMouseenter","onDblclick"],Ho=["onUpdate:modelValue"],Xo={key:1,class:"layer-item-span"},Go={class:"layer-item-text"},Ko=["title","onClick"],Jo=["title","onClick"];function qo(o,t,n,e,d,s){const r=v("b-icon"),i=pt("focus");return b(),w("div",{class:V(["layer-panel-wp",{"is-hide":!e.toolbar.layer}])},[a("div",Io,[a("div",No,[Oo,a("div",{class:"layer-action",onClick:t[0]||(t[0]=l=>e.schemaStore.toggleLayerPanel(!1))},Uo)]),a("div",Yo,[a("i",{title:"\u4E0A\u79FB\u4E00\u5C42",class:V(["b-iconfont b-icon-arrowup toolbar-icon standard",e.enableBtnClass]),style:W(e.enableBtnStyle),onClick:t[1]||(t[1]=(...l)=>e.moveUp&&e.moveUp(...l))},null,6),a("i",{title:"\u4E0B\u79FB\u4E00\u5C42",class:V(["b-iconfont b-icon-arrowdown toolbar-icon standard",e.enableBtnClass]),style:W(e.enableBtnStyle),onClick:t[2]||(t[2]=(...l)=>e.moveDown&&e.moveDown(...l))},null,6),a("i",{title:"\u7F6E\u9876",class:V(["b-iconfont b-icon-vertical-align-botto toolbar-icon standard",e.enableBtnClass]),style:W(oe({transform:"rotate(180deg)"},e.enableBtnStyle)),onClick:t[3]||(t[3]=(...l)=>e.moveTop&&e.moveTop(...l))},null,6),a("i",{title:"\u7F6E\u5E95",class:V(["b-iconfont b-icon-vertical-align-botto toolbar-icon standard",e.enableBtnClass]),style:W(e.enableBtnStyle),onClick:t[4]||(t[4]=(...l)=>e.moveBottom&&e.moveBottom(...l))},null,6)]),a("div",Po,[(b(!0),w(U,null,te(e.descComs,l=>(b(),w("div",{key:l.id,title:l.alias,class:V(["layer-manager-item",[{hided:l.hided,locked:l.locked,hovered:l.id===e.hoveredComId,selected:e.isSelected(l)}]]),onMousedown:c=>e.selectCom(l.id),onMouseenter:c=>e.onEnter(l.id),onMouseleave:t[7]||(t[7]=(...c)=>e.onLeave&&e.onLeave(...c)),onDblclick:c=>e.schemaStore.renamingCom(l.id),onContextmenu:t[8]||(t[8]=c=>e.showMenu(c))},[m(r,{name:l.icon,size:"18"},null,8,["name"]),l.id===e.renamingComId?pe((b(),w("input",{key:0,"onUpdate:modelValue":c=>l.alias=c,class:"layer-item-input",onBlur:t[5]||(t[5]=c=>e.schemaStore.renamingCom("")),onKeydown:t[6]||(t[6]=gt(c=>e.schemaStore.renamingCom(""),["enter"]))},null,40,Ho)),[[De,l.alias,void 0,{trim:!0}],[i]]):(b(),w("span",Xo,[a("span",Go,J(l.alias),1)])),a("i",{class:V(["b-iconfont",`b-icon-${l.hided?"eye-close":"eye"}`,"show-toggle-btn"]),title:l.hided?"\u663E\u793A":"\u9690\u85CF",onClick:c=>l.hided=!l.hided},null,10,Ko),a("i",{class:V(["b-iconfont",`b-icon-${l.locked?"lock":"unlock"}`,"show-toggle-btn"]),title:l.locked?"\u89E3\u9501":"\u9501\u5B9A",onClick:c=>l.locked=!l.locked},null,10,Jo)],42,Eo))),128)),a("div",{class:"last-flex-item",onClick:t[9]||(t[9]=(...l)=>e.cancelSelectCom&&e.cancelSelectCom(...l))})])])],2)}var Zo=F(Ao,[["render",qo]]);const Qo={name:"VBasicBar",alias:"\u57FA\u672C\u67F1\u56FE",img:j("basic-bar.jpg"),type:"bar",used:!0},ea={name:"VHorizontalBar",alias:"\u57FA\u672C\u6761\u5F62\u56FE",img:j("hori-basic-bar.jpg"),type:"bar",used:!0},ta={name:"VBasicLine",alias:"\u57FA\u672C\u6298\u7EBF\u56FE",img:j("basic-line.jpg"),type:"line",used:!0},oa={name:"VBasicArea",alias:"\u57FA\u672C\u533A\u57DF\u56FE",img:j("basic-area.jpg"),type:"line",used:!0},aa={name:"VBasicPie",alias:"\u57FA\u672C\u997C\u56FE",img:j("basic-pie.jpg"),type:"pie",used:!0},na={name:"VBasicRing",alias:"\u57FA\u672C\u73AF\u56FE",img:j("basic-ring.jpg"),type:"pie",used:!0},la={name:"VBasicRadar",alias:"\u57FA\u672C\u96F7\u8FBE\u56FE",img:j("basic-radar.jpg"),type:"radar",used:!0},sa={name:"VBasicMap",alias:"\u57FA\u672C\u5730\u56FE",img:j("2d-china.png"),type:"map",used:!0},ia={name:"VBasicMapEvo",alias:"\u7701\u4EFD\u5730\u56FE",img:j("basic-map-evo.png"),type:"map",used:!0},ra={name:"VBasicScatter",alias:"\u57FA\u672C\u6563\u70B9\u56FE",img:j("basic-scatter.png"),type:"scatter",used:!0},ca={name:"VLineBasicScatter",alias:"\u6563\u70B9\u7EBF\u56FE",img:j("line-basic-scatter.png"),type:"scatter",used:!0},da={name:"VBasicBoxplot",alias:"\u76D2\u987B\u56FE",img:j("basic-boxplot.png"),type:"boxplot",used:!0},ua={name:"VBasicFunnel",alias:"\u57FA\u672C\u68AF\u5EA6\u56FE",img:j("basic-funnel.jpg"),type:"funnel",used:!0},ma={name:"VBasicWordCloud",alias:"\u57FA\u672C\u8BCD\u4E91\u56FE",img:j("basic-wordcloud.jpg"),type:"wordcloud",used:!0},fa={name:"VBasicGauge",alias:"\u57FA\u672C\u4EEA\u8868\u76D8",img:j("basic-gauge.png"),type:"gauge",used:!0},ha={name:"VMainTitle",alias:"\u901A\u7528\u6807\u9898",img:j("main-title.png"),type:"info",used:!0},pa={name:"VNumberTitleFlop",alias:"\u6570\u5B57\u6307\u6807",img:j("number-title-flop.png"),type:"info",used:!0},ga={name:"VTimer",alias:"\u65F6\u95F4\u5668",img:j("timer.png"),type:"info",used:!0},ba={name:"VBgBox",alias:"\u80CC\u666F\u5757",img:j("bg-box.png"),type:"media",used:!0},_a={name:"VBorderBox",alias:"\u8FB9\u6846",img:j("border-box.png"),type:"media",used:!0},va={name:"VDecoration",alias:"\u88C5\u9970\u5668",img:j("decoration.png"),type:"media",used:!0},ya={name:"VMainImg",alias:"\u5355\u5F20\u56FE\u7247",img:j("img.png"),type:"media",used:!0},wa={name:"VScrollTable",alias:"\u57FA\u7840\u8868\u683C",img:j("scroll-table.jpg"),type:"table",used:!0},Ce=[{type:"bar",name:"\u67F1\u56FE",icon:"barchart",data:[Qo,ea]},{type:"line",name:"\u7EBF\u56FE",icon:"linechart",data:[ta,oa]},{type:"pie",name:"\u997C\u56FE",icon:"piechart",data:[aa,na]},{type:"radar",name:"\u96F7\u8FBE\u56FE",icon:"radarchart",data:[la]},{type:"scatter",name:"\u6563\u70B9\u56FE",icon:"pointmap",data:[ra,ca]},{type:"boxplot",name:"\u76D2\u987B\u56FE",icon:"boxplot",data:[da]},{type:"map",name:"\u5730\u56FE",icon:"location",data:[sa,ia]},{type:"other",name:"\u5176\u4ED6\u56FE\u8868",icon:"ungroup",data:[ua,ma,fa]},{type:"table",name:"\u8868\u683C",icon:"table",data:[wa]},{type:"info",name:"\u4FE1\u606F",icon:"info-circle",data:[ha,pa,ga]},{type:"media",name:"\u5A92\u4F53",icon:"Youtube",data:[ba,_a,va,ya]}];function Sa(o){for(let t=0;t<Ce.length;t++){const n=Ce[t];for(let e=0;e<n.data.length;e++){const d=n.data[e];if(d.name===o)return{classification:n,com:d}}}return null}const Re=()=>ae.map(o=>({color:{type:"solid",value:o,from:K.alpha(o,.8),to:K.alpha(o,.2)}})),Ne={name:"VBasicBar",alias:"\u57FA\u672C\u67F1\u56FE",icon:"barchart",type:A.com,componentType:"bar",attr:{w:500,h:300},config:{global:{fontFamily:"Microsoft Yahei",margin:{top:40,bottom:50,left:50,right:10},innerPadding:20,outerPadding:30,barWidth:"auto",borderRadius:0,background:{show:!0,color:"rgba(255, 255, 255, 0.1)"}},label:{show:!1,position:"top",textStyle:{fontSize:12,color:"rgba(255, 255, 255, 0.6)",fontWeight:"normal"},offsetX:0,offsetY:0},legend:{show:!0,position:"top-center",orient:"horizontal",textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"},symbol:{show:!0,icon:"auto",width:25,height:14,gap:10}},xAxis:{show:!0,type:"category",boundaryGap:!0,title:{show:!0,name:"X\u8F74",location:"center",display:{rotate:0,offset:30},textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"}},axisLine:{show:!0,type:"solid",width:1,color:"rgba(255, 255, 255, 0.5)"},axisTick:{show:!0,type:"solid",width:1,color:"rgba(255, 255, 255, 0.5)"},axisLabel:{show:!0,timeFormat:"MM/DD",interval:"auto",display:{rotate:0,margin:10},align:"center",textStyle:{fontSize:12,color:"rgba(255, 255, 255, 0.6)",fontWeight:"normal"}},grid:{show:!0,line:{type:"dashed",width:1,color:"rgba(233, 228, 228, 0.1)",dashedLength:4,dashedSpace:4}}},yAxis:{show:!0,extent:{min:"auto",max:"auto"},splitNumber:0,title:{show:!1,name:"Y\u8F74",location:"end",display:{rotate:0,offset:20},textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"}},axisLine:{show:!0,type:"solid",width:1,color:"rgba(255, 255, 255, 0.5)"},axisTick:{show:!0,type:"solid",width:1,color:"rgba(255, 255, 255, 0.5)"},axisLabel:{show:!0,valueFormat:"auto",boundaryGap:0,display:{rotate:0,margin:10},align:"right",textStyle:{fontSize:12,color:"rgba(255, 255, 255, 0.6)",fontWeight:"normal"}},grid:{show:!0,line:{type:"dashed",width:1,color:"rgba(233, 228, 228, 0.1)",dashedLength:4,dashedSpace:4}}},tooltip:{show:!0,textStyle:{fontSize:14,color:"#fff",fontWeight:"normal"},background:{padding:{h:5,v:5},color:"rgba(0, 0, 0, 0.65)"},pointer:{show:!0,line:{type:"dashed",width:1,color:"#f5dc69",dashedLength:4,dashedSpace:4}}},series:Re()},apiData:E({staticPath:"bar/basic-bar"}),events:{click:{description:"\u5F53\u70B9\u51FB\u6570\u636E\u9879\u65F6",fields:[]}}};var xa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",BasicBarSeries:Re,basicBarConfig:Ne,default:Ne});const Oe={name:"VHorizontalBar",alias:"\u57FA\u672C\u6761\u5F62\u56FE",icon:"menu",type:A.com,componentType:"bar",attr:{w:500,h:300},config:{global:{fontFamily:"Microsoft Yahei",margin:{top:40,bottom:50,left:60,right:10},innerPadding:20,outerPadding:30,barWidth:"auto",borderRadius:0,background:{show:!0,color:"rgba(255, 255, 255, 0.1)"}},label:{show:!1,position:"top",textStyle:{fontSize:12,color:"rgba(255, 255, 255, 0.6)",fontWeight:"normal"},offsetX:0,offsetY:0},legend:{show:!0,position:"top-center",orient:"horizontal",textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"},symbol:{show:!0,icon:"auto",width:25,height:14,gap:10}},yAxis:{show:!0,type:"category",boundaryGap:!0,title:{show:!1,name:"Y\u8F74",location:"center",display:{rotate:0,offset:30},textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"}},axisLine:{show:!0,type:"solid",width:1,color:"rgba(255, 255, 255, 0.5)"},axisTick:{show:!1,type:"solid",width:1,color:"rgba(255, 255, 255, 0.5)"},axisLabel:{show:!0,timeFormat:"MM/DD",interval:"auto",display:{rotate:0,margin:20},align:"center",textStyle:{fontSize:12,color:"rgba(255, 255, 255, 0.6)",fontWeight:"normal"}},grid:{show:!0,line:{type:"dashed",width:1,color:"rgba(233, 228, 228, 0.1)",dashedLength:4,dashedSpace:4}}},xAxis:{show:!0,extent:{min:"auto",max:"auto"},splitNumber:0,title:{show:!1,name:"X\u8F74",location:"end",display:{rotate:0,offset:20},textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"}},axisLine:{show:!0,type:"solid",width:1,color:"rgba(255, 255, 255, 0.5)"},axisTick:{show:!0,type:"solid",width:1,color:"rgba(255, 255, 255, 0.5)"},axisLabel:{show:!0,valueFormat:"auto",boundaryGap:0,display:{rotate:0,margin:10},align:"center",textStyle:{fontSize:12,color:"rgba(255, 255, 255, 0.6)",fontWeight:"normal"}},grid:{show:!0,line:{type:"dashed",width:1,color:"rgba(233, 228, 228, 0.1)",dashedLength:4,dashedSpace:4}}},tooltip:{show:!0,textStyle:{fontSize:14,color:"#fff",fontWeight:"normal"},background:{padding:{h:5,v:5},color:"rgba(0, 0, 0, 0.65)"},pointer:{show:!0,line:{type:"dashed",width:1,color:"#f5dc69",dashedLength:4,dashedSpace:4}}},series:Re()},apiData:E({staticPath:"bar/basic-bar"}),events:{click:{description:"\u5F53\u70B9\u51FB\u6570\u636E\u9879\u65F6",fields:[]}}};var Ca=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",horiBasicBarConfig:Oe,default:Oe});const ka=()=>ae.map(o=>({borderColor:o,color:{type:"solid",value:"rgba(255,255,255,0.2)",from:K.alpha(o,.8),to:K.alpha(o,.2)}})),Fe={name:"VBasicBoxplot",alias:"\u76D2\u987B\u56FE",icon:"boxplot",type:A.com,componentType:"boxplot",attr:{w:500,h:300},config:{global:{boxWidth:[7,"50"],itemStyle:{color:"#fff",borderColor:"rgba(14, 123, 230, 1)",borderWidth:1,borderType:"solid"},margin:{top:40,bottom:40,left:50,right:20},layout:"horizontal"},legend:{show:!0,position:"top-center",orient:"horizontal",textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"},symbol:{show:!0,icon:"auto",width:25,height:14,gap:10}},xAxis:{show:!0,type:"category",boundaryGap:!0,nameGap:15,title:{show:!1,name:"X\u8F74",location:"center",display:{rotate:0,offset:30},textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"}},grid:{show:!1,line:{type:"dashed",width:1,color:"rgba(233, 228, 228, 0.1)",dashedLength:4,dashedSpace:4}},splitArea:{show:!1},axisLine:{show:!0,type:"solid",width:1,color:"#90a0ae"},axisTick:{show:!0,type:"solid",width:1,color:"#90a0ae"},axisLabel:{show:!0,formatter:"",interval:"auto",display:{rotate:0,margin:10},align:"center",textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"}}},yAxis:{type:"value",show:!0,extent:{min:"auto",max:"auto"},splitNumber:0,title:{show:!1,name:"Y\u8F74",location:"end",display:{rotate:0,offset:20},textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"}},axisLine:{show:!0,type:"solid",width:1,color:"#90a0ae"},axisTick:{show:!0,type:"solid",width:1,color:"#90a0ae"},axisLabel:{show:!0,formatter:"",boundaryGap:0,display:{rotate:0,margin:10},align:"right",textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"}},grid:{show:!0,line:{type:"dashed",width:1,color:"rgba(233, 228, 228, 0.1)",dashedLength:4,dashedSpace:4}},splitArea:{show:!1,color:["rgba(13, 42, 66, 1)","rgba(255, 255, 255, 0.2)"]}},tooltip:{show:!0,textStyle:{fontSize:14,color:"#fff",fontWeight:"normal"},background:{padding:{h:5,v:5},color:"rgba(0, 0, 0, 0.65)"}},series:ka()},apiData:E({staticPath:"boxplot/basic-boxplot"}),events:{click:{description:"\u5F53\u70B9\u51FB\u6570\u636E\u9879\u65F6",fields:[]}}};var Ma=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",basicBoxplotConfig:Fe,default:Fe});const xt=()=>ae.map((o,t)=>({color:{type:"solid",value:o,from:K.alpha(o,.8),to:K.alpha(ae[t+1],.2)}})),Ue={name:"VBasicFunnel",alias:"\u68AF\u5EA6\u56FE",icon:"funnelplot",type:A.com,componentType:"funnel",attr:{w:500,h:300},config:{global:{minSize:"20%",maxSize:"80%",orient:"vertical",sort:"descending",gap:5,margin:{left:"60",top:"20",right:"20",bottom:"20"},funnelAlign:"center"},label:{show:!0,position:"left",textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"},formatter:""},labelLine:{show:!1,length:30,lineStyle:{color:null,width:1,type:"solid"}},tooltip:{show:!0,textStyle:{fontSize:14,color:"#fff",fontWeight:"normal"},background:{padding:{h:5,v:5},color:"rgba(0, 0, 0, 0.4)"}},legend:{show:!1,position:"middle-auto",orient:"vertical",top:"middle",right:"1%",bottom:"auto",left:"auto",symbol:{show:!0,icon:"circle",width:25,height:14,gap:10},textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal",rich:{name:{width:170,fontSize:13},per:{width:50,fontSize:13},value:{width:30,fontSize:13,color:"#999",align:"right"}}},formatter:"{name|\u81EA\u7136\u4EBA\u884C\u653F\u8BB8\u53EF}{per|26%} {value|50}",selectedMode:!0,color:ae},series:xt()},apiData:E({staticPath:"funnel/basic-funnel"}),events:{click:{description:"\u5F53\u70B9\u51FB\u6570\u636E\u9879\u65F6",fields:[]}}};var Va=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",BasicBarSeries:xt,basicFunnel:Ue,default:Ue});const Ct=()=>ae.map(o=>({color:{type:"solid",value:o,from:K.alpha(o,.8),to:K.alpha(o,.2)}})),Ye={name:"VBasicGauge",alias:"\u4EEA\u8868\u76D8",icon:"dashboard",type:A.com,componentType:"gauge",attr:{w:500,h:300},config:{global:{center:["50%","50%"],radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,splitNumber:10},tooltip:{show:!0,textStyle:{fontSize:14,color:"#999",fontWeight:"bolder"},background:{padding:{h:5,v:5},color:"rgba(255, 255, 255, 0.65)"}},detail:{show:!0,formatter:"{value}%",color:null,fontWeight:"bolder",fontSize:30,width:100,overflow:"truncate",offsetCenter:["0%","95%"],valueAnimation:!0,unit:"%"},axisLine:{show:!0,roundCap:!0,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!0,overlap:!0,width:10,roundCap:!0,clip:!1},splitLine:{show:!0,length:"5%",distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#fff",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#fff",fontWeight:"normal",fontSize:12,width:100,overflow:"truncate"},pointer:{show:!0,showAbove:!0,icon:"triangle",offsetCenter:[0,0],length:"60%",width:6},anchor:{show:!1,showAbove:!0,size:6,offsetCenter:[0,0],icon:"circle",itemStyle:{color:"#fff",opacity:1}},title:{show:!0,offsetCenter:["0%","70%"],color:"#fff",fontWeight:"normal",fontSize:16,width:100,overflow:"truncate"},series:Ct()},apiData:E({staticPath:"funnel/basic-funnel"}),events:{click:{description:"\u5F53\u70B9\u51FB\u6570\u636E\u9879\u65F6",fields:[]}}};var za=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",BasicSeries:Ct,basicGauge:Ye,default:Ye});const kt=()=>ae.map(o=>({lineStyle:{width:2,color:o,type:"solid"},areaStyle:{from:K.alpha(o,.8),to:K.alpha(o,.2),opacity:.8}})),Pe={name:"VBasicArea",alias:"\u57FA\u672C\u533A\u57DF\u56FE",icon:"linechart",type:A.com,componentType:"line",attr:{w:500,h:300},config:{global:{fontFamily:"Microsoft Yahei",margin:{top:40,bottom:50,left:50,right:10},smooth:!1},label:{show:!1,position:"top",textStyle:{fontSize:12,color:"rgba(255, 255, 255, 0.6)",fontWeight:"normal"},offsetX:0,offsetY:0},legend:{show:!0,position:"top-center",orient:"horizontal",textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"},symbol:{show:!0,icon:"auto",width:25,height:14,gap:10}},xAxis:{show:!0,type:"category",boundaryGap:!0,title:{show:!1,name:"X\u8F74",location:"center",display:{rotate:0,offset:30},textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"}},axisLine:{show:!0,type:"solid",width:1,color:"rgba(255, 255, 255, 0.5)"},axisTick:{show:!0,type:"solid",width:1,color:"rgba(255, 255, 255, 0.5)"},axisLabel:{show:!0,timeFormat:"MM/DD",interval:"auto",display:{rotate:0,margin:10},align:"center",textStyle:{fontSize:12,color:"rgba(255, 255, 255, 0.6)",fontWeight:"normal"}},grid:{show:!1,line:{type:"dashed",width:1,color:"rgba(233, 228, 228, 0.1)",dashedLength:4,dashedSpace:4}}},yAxis:{show:!0,extent:{min:"auto",max:"auto"},splitNumber:0,title:{show:!1,name:"Y\u8F74",location:"end",display:{rotate:0,offset:20},textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"}},axisLine:{show:!1,type:"solid",width:1,color:"rgba(255, 255, 255, 0.5)"},axisTick:{show:!1,type:"solid",width:1,color:"rgba(255, 255, 255, 0.5)"},axisLabel:{show:!0,valueFormat:"auto",boundaryGap:0,display:{rotate:0,margin:10},align:"center",textStyle:{fontSize:12,color:"rgba(255, 255, 255, 0.6)",fontWeight:"normal"}},grid:{show:!0,line:{type:"solid",width:1,color:"rgba(233, 228, 228, 0.1)",dashedLength:4,dashedSpace:4}}},tooltip:{show:!0,textStyle:{fontSize:14,color:"#fff",fontWeight:"normal"},background:{padding:{h:5,v:5},color:"rgba(0, 0, 0, 0.65)"},pointer:{show:!0,line:{type:"dashed",width:1,color:"#f5dc69",dashedLength:4,dashedSpace:4}}},series:kt()},apiData:E({staticPath:"line/basic-line"}),events:{click:{description:"\u5F53\u70B9\u51FB\u6570\u636E\u9879\u65F6",fields:[""]}}};var Ta=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",BasicAreaSeries:kt,basicAreaConfig:Pe,default:Pe});const Ee={name:"VBasicMap",alias:"\u5730\u56FE",icon:"location",type:A.com,componentType:"gauge",attr:{w:500,h:300},config:{global:{areaColor:{type:"gradient",value:"rgba(115, 192, 222, 1)",from:"rgba(115, 192, 222, 1)",to:"rgba(155, 204, 242, 1)"},borderColor:"rgba(0, 123, 215, 1)",borderWidth:1,borderType:"solid",itemStyle:{areaColor:"#cfe7ff",borderColor:"#53D9FF",borderWidth:1,borderType:"solid"},shadowColor:"rgba(79, 166, 216, 1)",shadowOffsetX:0,shadowOffsetY:0},label:{show:!0,color:"rgba(114, 113, 113, 1)",fontSize:10,fontWeight:"normal",position:"inside ",emphasis:{show:!0,color:"#f75a00",fontSize:14,fontWeight:"bold",position:"inside"}},tooltip:{trigger:"item"},geo:{map:"china",aspectScale:.75,zoom:1.4,roam:!1,center:[104,33],regions:[{name:"\u5357\u6D77\u8BF8\u5C9B",itemStyle:{opacity:0}}]},series:[{map:"china",tooltip:{show:!1},zoom:1.4,type:"map",roam:!1,center:[104,33],selectedMode:!1,label:{show:!1,color:"#f75a00",fontSize:12},data:[]}]},apiData:E({staticPath:""}),events:{click:{description:"\u5F53\u70B9\u51FB\u6570\u636E\u9879\u65F6",fields:[]}}};var Ba=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",basicMap:Ee,default:Ee});const He={name:"VBasicMapEvo",alias:"\u7701\u4EFD\u5730\u56FE",icon:"location",type:A.com,componentType:"gauge",attr:{w:500,h:300},config:{itemStyle:{areaColor:"#bddffd",borderType:"solid",borderColor:"#0E95F1",borderWidth:1},emphasis:{itemStyle:{areaColor:"#FFD181",borderType:"solid",borderColor:"#a3d0f8",borderWidth:1}},label:{show:!0,color:"#333",fontSize:10,fontWeight:"normal",position:"top"}},apiData:E({staticPath:""}),events:{click:{description:"\u5F53\u70B9\u51FB\u6570\u636E\u9879\u65F6",fields:[]}}};var Da=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",basicMapEvo:He,default:He});const Xe={name:"VBorderBox",alias:"\u8FB9\u6846",icon:"gateway",type:A.com,attr:{w:300,h:180},config:{img:"box1"},apiData:{},events:{}};var $a=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",borderBoxConfig:Xe,default:Xe});const Ge={name:"VDecoration",alias:"\u88C5\u9970\u5668",icon:"pushpin",type:A.com,attr:{w:200,h:200},config:{img:"decoration10"},apiData:{},events:{}};var La=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",decorationConfig:Ge,default:Ge});const Ke={name:"VMainImg",alias:"\u5355\u5F20\u56FE\u7247",icon:"image",type:A.com,attr:{w:300,h:180},config:{backgroundImage:Et("/background/bg1.jpg"),repeat:"no-repeat",radius:2,urlConfig:{url:"",ifBlank:!1}},apiData:{},events:{}};var Wa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",mainImgConfig:Ke,default:Ke});const Je={name:"VBasicPie",alias:"\u57FA\u672C\u997C\u56FE",icon:"piechart",type:A.com,componentType:"pie",attr:{w:500,h:300},config:{global:{fontFamily:"Microsoft Yahei",center:["50%","50%"],radius:["0","75%"],roseType:!1,borderRadius:0},label:{show:!0,position:"outside",textStyle:{fontSize:12,color:"rgba(255, 255, 255, 0.6)",fontWeight:"normal"},formatter:"",alignTo:"none",bleedMargin:10,distanceToLabelLine:5},legend:{show:!0,position:"bottom-center",orient:"horizontal",textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"},symbol:{show:!0,icon:"auto",width:25,height:14,gap:10}},tooltip:{show:!0,textStyle:{fontSize:14,color:"#fff",fontWeight:"normal"},background:{padding:{h:5,v:5},color:"rgba(0, 0, 0, 0.65)"}}},apiData:E({staticPath:"pie/basic-pie"}),events:{click:{description:"\u5F53\u70B9\u51FB\u6570\u636E\u9879\u65F6",fields:[]}}};var Ra=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",basicPieConfig:Je,default:Je});const qe={name:"VBasicRing",alias:"\u57FA\u672C\u73AF\u56FE",icon:"piechart",type:A.com,componentType:"pie",attr:{w:500,h:300},config:{global:{fontFamily:"Microsoft Yahei",center:["50%","50%"],radius:["50%","75%"],roseType:!1,borderRadius:5},label:{show:!0,position:"outside",textStyle:{fontSize:12,color:"rgba(255, 255, 255, 0.6)",fontWeight:"normal"},formatter:"",alignTo:"none",bleedMargin:10,distanceToLabelLine:5},legend:{show:!0,position:"bottom-center",orient:"horizontal",textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"},symbol:{show:!0,icon:"auto",width:25,height:14,gap:10}},tooltip:{show:!0,textStyle:{fontSize:14,color:"#fff",fontWeight:"normal"},background:{padding:{h:5,v:5},color:"rgba(0, 0, 0, 0.65)"}}},apiData:E({staticPath:"pie/basic-pie"}),events:{click:{description:"\u5F53\u70B9\u51FB\u6570\u636E\u9879\u65F6",fields:[]}}};var ja=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",basicRingConfig:qe,default:qe});const Ze={name:"VBasicRadar",alias:"\u57FA\u672C\u96F7\u8FBE\u56FE",icon:"radarchart",type:A.com,componentType:"radar",attr:{w:500,h:300},config:{global:{fontFamily:"Microsoft Yahei",center:["50%","50%"],radius:"75%",startAngle:90,shape:"polygon",splitNumber:4,axisLine:{show:!0,lineStyle:{color:"rgba(211, 253, 250, 0.8)"}},axisName:{show:!0,color:"rgba(211, 253, 250, 0.8)"},splitLine:{show:!0,lineStyle:{color:["rgba(211, 253, 250, 0.8)"]}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},symbolSize:2,areaStyle:{opacity:.1}},label:{show:!1,position:"top",textStyle:{fontSize:10,color:"rgba(255, 255, 255, 0.6)",fontWeight:"normal"},formatter:""},legend:{show:!1,position:"top-center",orient:"horizontal",textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"},symbol:{show:!0,icon:"auto",width:25,height:14,gap:10}},tooltip:{show:!1,textStyle:{fontSize:14,color:"#fff",fontWeight:"normal"},background:{padding:{h:5,v:5},color:"rgba(0, 0, 0, 0.65)"}},color:ae},apiData:E({staticPath:"radar/basic-radar"}),events:{click:{description:"\u5F53\u70B9\u51FB\u6570\u636E\u9879\u65F6",fields:[]}}};var Aa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",basicRadarConfig:Ze,default:Ze});const Ia=()=>ae.map(o=>({color:{type:"solid",value:o,from:K.alpha(o,.8),to:K.alpha(o,.2)}})),Qe={name:"VBasicScatter",alias:"\u57FA\u672C\u6563\u70B9\u56FE",icon:"pointmap",type:A.com,componentType:"scatter",attr:{w:500,h:300},config:{global:{fontFamily:"Microsoft Yahei",margin:{top:35,bottom:35,left:20,right:30,containLabel:!0},symbol:"rect",symbolSize:10,symbolRotate:7,symbolOffset:[0,0],itemStyle:{color:null,opacity:.8},background:{show:!0,color:"rgba(255, 255, 255, 0.1)"}},label:{show:!1,position:"top",offset:[2.5,-3.5],color:"#fff",fontWeight:"normal",fontSize:12},legend:{show:!0,position:"top-center",orient:"horizontal",textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"},symbol:{show:!0,icon:"auto",width:25,height:14,gap:10}},xAxis:{show:!0,type:"value",scale:!0,boundaryGap:!0,title:{show:!1,name:"X\u8F74",location:"center",display:{rotate:0,offset:30},textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"}},axisLine:{show:!0,type:"solid",width:1,color:"#90a0ae"},axisTick:{show:!0,type:"solid",width:1,color:"#90a0ae",interval:"auto"},axisLabel:{show:!0,interval:"auto",formatter:"cm",display:{rotate:0,margin:10},align:"center",textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"}},grid:{show:!0,line:{type:"dashed",width:1,color:"rgba(233, 228, 228, 0.1)",dashedLength:4,dashedSpace:4}}},yAxis:{type:"value",show:!0,scale:!0,extent:{min:"auto",max:"auto"},splitNumber:0,title:{show:!1,name:"Y\u8F74",location:"end",display:{rotate:0,offset:20},textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"}},axisLine:{show:!0,type:"solid",width:1,color:"#90a0ae"},axisTick:{show:!0,type:"solid",width:1,color:"#90a0ae"},axisLabel:{show:!0,formatter:"kg",boundaryGap:0,display:{rotate:0,margin:10},align:"right",textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"}},grid:{show:!0,line:{type:"dashed",width:1,color:"rgba(233, 228, 228, 0.1)",dashedLength:4,dashedSpace:4}}},tooltip:{show:!0,textStyle:{fontSize:14,color:"#333",fontWeight:"normal"},background:{padding:{h:5,v:5},color:"#fff"},pointer:{show:!0,line:{type:"dashed",width:1,color:"#f5dc69",dashedLength:4,dashedSpace:4}}},series:Ia()},apiData:E({staticPath:"scatter/basic-scatter"}),events:{click:{description:"\u5F53\u70B9\u51FB\u6570\u636E\u9879\u65F6",fields:[]}}};var Na=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",basicScatterConfig:Qe,default:Qe});const et={name:"VLineBasicScatter",alias:"\u6563\u70B9\u7EBF\u56FE",icon:"pointmap",type:A.com,componentType:"scatter",attr:{w:500,h:300},config:{global:{fontFamily:"Microsoft Yahei",margin:{top:35,bottom:35,left:30,right:30,containLabel:!0},symbol:"rect",symbolSize:10,symbolRotate:7,symbolOffset:[0,0],itemStyle:{color:null,opacity:.8},background:{show:!0,color:"rgba(255, 255, 255, 0.1)"}},label:{show:!1,position:"top",offset:[2.5,-3.5],color:"rgba(163, 161, 161, 1)",fontWeight:"normal",fontSize:12},legend:{show:!0,position:"top-center",orient:"horizontal",textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"},symbol:{show:!0,icon:"auto",width:25,height:14,gap:10}},xAxis:{show:!0,type:"category",scale:!0,boundaryGap:!0,title:{show:!1,name:"X\u8F74",location:"center",display:{rotate:0,offset:30},textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"}},axisLine:{show:!0,type:"solid",width:1,color:"#90a0ae"},axisTick:{show:!0,type:"solid",width:1,color:"#90a0ae"},axisLabel:{show:!0,formatter:"",interval:"auto",display:{rotate:0,margin:10},align:"center",textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"}},grid:{show:!0,line:{type:"dashed",width:1,color:"rgba(233, 228, 228, 0.1)",dashedLength:4,dashedSpace:4}}},yAxis:{type:"value",show:!0,scale:!0,extent:{min:"auto",max:"auto"},splitNumber:0,title:{show:!1,name:"Y\u8F74",location:"end",display:{rotate:0,offset:20},textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"}},axisLine:{show:!0,type:"solid",width:1,color:"#90a0ae"},axisTick:{show:!0,type:"solid",width:1,color:"#90a0ae"},axisLabel:{show:!0,formatter:"",boundaryGap:0,display:{rotate:0,margin:10},align:"right",textStyle:{fontSize:12,color:"#90a0ae",fontWeight:"normal"}},grid:{show:!0,line:{type:"dashed",width:1,color:"rgba(233, 228, 228, 0.1)",dashedLength:4,dashedSpace:4}}},tooltip:{show:!0,textStyle:{fontSize:14,color:"#333",fontWeight:"normal"},background:{padding:{h:5,v:5},color:"#fff"},pointer:{show:!0,line:{type:"dashed",width:1,color:"#f5dc69",dashedLength:4,dashedSpace:4}}},series:[],line:{show:!0,label:{show:!0,position:"left",offset:[0,-20],color:"rgba(255,255,255,0.7)",fontWeight:"normal",fontSize:16},smooth:!0,lineEcStat:"exponential"}},apiData:E({staticPath:"scatter/line-basic-scatter"}),events:{click:{description:"\u5F53\u70B9\u51FB\u6570\u636E\u9879\u65F6",fields:[]}}};var Oa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",lineBasicScatterConfig:et,default:et});const tt={name:"VScrollTable",alias:"\u6EDA\u52A8\u8868\u683C",icon:"table",type:A.com,componentType:"scrollTable",attr:{w:500,h:260},config:{rowNum:5,headerBGC:"#00BAFF",oddRowBGC:"#003B51",evenRowBGC:"#0A2732",waitTime:2e3,headerHeight:35,indexHeader:"#",carousel:"single",hoverPause:!1,index:!0,indexWidth:50,indexAlign:"center",columnWidth:[],align:[]},apiData:E({staticPath:"table/scroll-table"}),events:{}};var Fa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",scrollTableConfig:tt,default:tt});const ot={name:"VMainTitle",alias:"\u901A\u7528\u6807\u9898",icon:"file-word",type:A.com,attr:{w:300,h:48},config:{title:"\u6211\u662F\u6807\u9898\u6570\u636E",textStyle:{fontFamily:"Microsoft Yahei",fontSize:24,color:"#fff",fontWeight:"normal"},textAlign:"center",writingMode:"horizontal-tb",backgroundStyle:{show:!1,bgColor:"#008bff",borderRadius:15,borderColor:"#fff",borderStyle:"solid",borderWidth:1},ellipsis:!1,urlConfig:{url:"",isBlank:!1}},apiData:{},events:{}};var Ua=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",mainTitleConfig:ot,default:ot});const at={name:"VNumberTitleFlop",alias:"\u6570\u5B57\u6307\u6807",icon:"orderedlist",type:A.com,attr:{w:300,h:74},config:{global:{fontFamily:"Microsoft Yahei",arrangement:"top",distance:0},title:{content:"\u6570\u5B57\u6307\u6807\u6807\u9898",textStyle:{fontSize:18,color:"#79daff",fontWeight:"normal",textAlign:"flex-start"}},counter:{textStyle:{fontFamily:"Microsoft Yahei",fontSize:36,color:"#0a73ff",fontWeight:"bolder",textAlign:"left"},value:1234567,duration:1e3,autoplay:!0,decimals:2,decimal:".",separator:",",prefix:"\uFFE5",suffix:""}},apiData:E({staticPath:"text/number-title-flop"}),events:{}};var Ya=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",numberTitleFlopConfig:at,default:at});const nt={name:"VTimer",alias:"\u65F6\u95F4\u5668",icon:"time-circle",type:A.com,attr:{w:300,h:56},config:{iconStyle:{show:!0,size:1.2,color:"rgba(93,245,244,1)",marginRight:6},time:{textStyle:{fontFamily:"Microsoft Yahei",fontSize:18,color:"#fff",fontWeight:"normal"},format:"YYYY-MM-DD HH:mm:ss",duration:1e3,horizontal:"center",vertical:"center"}},apiData:{},events:{}};var Pa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",timerConfig:nt,default:nt});const lt={name:"VBasicWordCloud",alias:"\u8BCD\u4E91\u56FE",icon:"cloud",type:A.com,componentType:"other",attr:{w:500,h:300},config:{tooltip:{show:!0,textStyle:{fontSize:14,color:"",fontWeight:"normal"}},series:[{type:"wordCloud",sizeRange:[10,45],rotationRange:[0,0],rotationStep:45,gridSize:13,shape:"circle",drawOutOfBound:!1,grid:{left:"center",top:"middle"},width:"100%",height:"100%",textStyle:{color:"#fff",emphasis:{textStyle:{shadowBlur:10,shadowColor:"#ee6666"}}},data:[]}]},apiData:E({staticPath:"wordcloud/basic-wordcloud"}),events:{click:{description:"\u5F53\u70B9\u51FB\u6570\u636E\u9879\u65F6",fields:[]}}};var Ea=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",basicWordCloud:lt,default:lt});const st={"../components/Schema/bar/basic-bar/config.js":xa,"../components/Schema/bar/hori-basic-bar/config.js":Ca,"../components/Schema/boxplot/basic-boxplot/config.js":Ma,"../components/Schema/funnel/basic-funnel/config.js":Va,"../components/Schema/gauge/base-gauge/config.js":za,"../components/Schema/line/basic-area/config.js":Ta,"../components/Schema/line/basic-line/config.js":io,"../components/Schema/map/basic-map/config.js":Ba,"../components/Schema/map/basic-map-evo/config.js":Da,"../components/Schema/media/bg-box/config.js":ro,"../components/Schema/media/border-box/config.js":$a,"../components/Schema/media/decoration/config.js":La,"../components/Schema/media/main-img/config.js":Wa,"../components/Schema/pie/basic-pie/config.js":Ra,"../components/Schema/pie/basic-ring/config.js":ja,"../components/Schema/radar/basic-radar/config.js":Aa,"../components/Schema/scatter/basic-scatter/config.js":Na,"../components/Schema/scatter/line-basic-scatter/config.js":Oa,"../components/Schema/table/scroll-table/config.js":Fa,"../components/Schema/text/main-title/config.js":Ua,"../components/Schema/text/number-title-flop/config.js":Ya,"../components/Schema/text/timer/config.js":Pa,"../components/Schema/wordcloud/basic-wordcloud/config.js":Ea},Mt=new Map;Object.keys(st).forEach(o=>{const t=st[o].default;(t==null?void 0:t.name)&&Mt.set(t.name,t)});const Ha={id:"",name:"",alias:"",type:"",locked:!1,hided:!1,attr:{x:0,y:0,w:100,h:100,rotate:0,opacity:1},apiData:{},events:{}};function Xa(o){const t=Mt.get(o)||{},n=Ht(Xt(Ha),t);return n.id=`${o}_${Te()}`,Me(n.apiData)||(n.apiData.comId=n.id),n}function Vt(o){const t=Xa(o);return console.log(`----------createComponent[${o}]: `,t),t}const Ga={name:"components-panel",setup(){const{schemaStore:o,storeToRefs:t}=R(),{pageConfig:n,toolbar:e,selectedCom:d}=t(o),s=T(0),r=k(()=>Ce[s.value].data);return{toolbar:e,activeIndex:s,componentsList:Ce,comps:r,changeComp:p=>{o.toggleCompsPanel(!0),s.value=p},dragStart:(p,u)=>{p.dataTransfer.setData("text",u)},toAddCom:async(p,u)=>{if(u){const g=Vt(p);if(g.attr.x=Math.floor((n.value.width-g.attr.w)/2),g.attr.y=Math.floor((n.value.height-g.attr.h)/2),o.addCom({component:g}),o.selectCom(g),g.apiData&&g.apiData.type===$e.static&&g.apiData.staticPath){const{data:x}=await wt(g.id,g.apiData.staticPath);d.value.apiData.config.data=JSON.stringify(x)}}else console.log("\u6B63\u5728\u5F00\u53D1\u4E2D\u3002\u3002\u3002")},dragOver:p=>{p.preventDefault(),p.stopPropagation(),p.dataTransfer.dropEffect="none"},closePanel:()=>{e.value.components&&o.toggleCompsPanel(!1)}}}},Ka={class:"components-panel-wp"},Ja={class:"components-panel"},qa=a("div",{class:"panel-title"},[a("span",{class:"panel-text"},"\u7EC4\u4EF6")],-1),Za={class:"components-type"},Qa=["onClick"],en={class:"com-tab-title"},tn={class:"p10"},on=["title","draggable","onDragstart","onClick"],an={class:"comp-item-text"};function nn(o,t,n,e,d,s){const r=v("b-icon"),i=v("b-scrollbar"),l=pt("click-outside");return b(),w("div",Ka,[a("div",Ja,[qa,a("div",{class:"components-panel-content",onDragover:t[0]||(t[0]=(...c)=>e.dragOver&&e.dragOver(...c))},[a("div",Za,[m(i,{native:""},{default:_(()=>[(b(!0),w(U,null,te(e.componentsList,(c,h)=>(b(),w("div",{class:V(["components-item",{active:e.activeIndex===h}]),key:h,onClick:f=>e.changeComp(h)},[m(r,{class:"com-tab-icon",name:c.icon},null,8,["name"]),a("span",en,J(c.name),1)],10,Qa))),128))]),_:1})]),pe((b(),w("div",{class:V(["components-list",{"is-hide":!e.toolbar.components}])},[m(i,{native:""},{default:_(()=>[a("div",tn,[(b(!0),w(U,null,te(e.comps,(c,h)=>(b(),w("div",{class:"comp-item",key:h,title:c.alias,draggable:c.used,onDragstart:f=>e.dragStart(f,c.name),onClick:f=>e.toAddCom(c.name,c.used)},[a("div",an,J(c.alias),1),a("div",{class:"comp-item-img",style:W(`background-image: url(${c.img});`)},null,4)],40,on))),128))])]),_:1})],2)),[[l,e.closePanel]])],32)])])}var ln=F(Ga,[["render",nn]]);const de=Rt(),it=o=>`${o}px`,rt=(o,t,n,e)=>{const d=o!=null?o:document.createElement("canvas");d.width=t*e,d.height=n*e,d.style.width=it(t),d.style.height=it(n);const s=d.getContext("2d");return s&&s.setTransform(e,0,0,e,0,0),d};class ct{constructor(t,n){this.el=t,this.options=oe({direction:"TB",width:1e3,height:20,bgColor:"#0e1013",fontFamily:"sans-serif",fontSize:"10px",fontColor:"#90a0ae",strokeStyle:"rgba(161, 174, 179, 0.8)",lineWidth:.5,indicatorLineWidth:1,scale:1,offset:40,ratio:2},n),this.canvas=null,this.ctx=null,this.ruler={width:0,height:0},this.constructRuler()}constructRuler(){const{el:t,options:n}=this,{direction:e,width:d,height:s,ratio:r}=n,i=Math.max(e==="TB"?t.offsetWidth:t.offsetHeight,d),l=s;this.ruler.width=i,this.ruler.height=l;const c=rt(null,i,l,r);Gt(c,"canvas-ruler"),t.appendChild(c),this.canvas=c,this.ctx=c.getContext("2d"),this.drawRuler()}drawRuler(){const{ctx:t,options:n,ruler:e}=this,{width:d,height:s}=e;t.beginPath(),t.fillStyle=n.bgColor,t.fillRect(0,0,d,s),t.closePath(),t.beginPath(),t.font=`${n.fontSize} ${n.fontFamily}`,t.textAlign="left",t.fillStyle=n.fontColor,t.strokeStyle=n.strokeStyle,t.lineWidth=n.lineWidth,this.drawPoints(),t.stroke()}drawPoints(){const{ctx:t,options:n,ruler:e}=this,{width:d,height:s}=e,{offset:r,scale:i}=n,l=0,c=s/1.5,h=s/1.2;for(let f=0;f<=d;f+=1){const p=f-r;if(p<0)continue;let u=-1,g=-1;p%50===0?(u=Math.floor(p/i),g=l):p%25===0?g=c:p%5===0&&(g=h),g>=0&&(t.moveTo(f+.5,s+.5),t.lineTo(f+.5,g),u>-1&&t.fillText(`${u}`,f+2.5,s/1.5))}}setSize(t,n,e){const{el:d,options:s}=this;s.width=t,s.height=n,s.scale=e;const{direction:r,width:i,height:l,ratio:c}=s,h=Math.max(r==="TB"?d.offsetWidth:d.offsetHeight,i),f=l;this.ruler.width=h,this.ruler.height=f,rt(this.canvas,h,f,c),this.drawRuler()}destroy(){const{el:t}=this;t.remove()}}const sn={name:"ruler",setup(){const{schemaStore:o,storeToRefs:t}=R(),{canvas:n}=t(o),e=T(null),d=T(null),s=T(null),r=T(null),i=T(!0),l=T(0),c=T(0),h=document.documentElement.clientWidth;jt(()=>{if(e.value&&d.value){const p=Math.max(n.value.width,h);s.value?s.value.setSize(p,18,n.value.scale):s.value=new ct(e.value,{direction:"TB",width:p,scale:n.value.scale}),r.value?r.value.setSize(n.value.height,18,n.value.scale):r.value=new ct(d.value,{direction:"LR",width:n.value.height,scale:n.value.scale})}});const f=p=>{const u=p.target;l.value=u.scrollLeft,c.value=u.scrollTop};return ve(()=>{const p=document.getElementById("canvas-wp");p==null||p.addEventListener("scroll",f)}),At(()=>{const p=document.getElementById("canvas-wp");p==null||p.removeEventListener("scroll",f)}),{visible:i,hRulerWpRef:e,vRulerWpRef:d,vScroll:c,hScroll:l}}},rn=o=>(ye("data-v-5f454e16"),o=o(),we(),o),cn={class:"canvas-ruler-wp"},dn=rn(()=>a("div",{class:"ruler-corner"},null,-1));function un(o,t,n,e,d,s){return b(),w("div",cn,[a("div",{ref:"hRulerWpRef",class:"ruler-wrapper h-container",style:W(`transform: translateX(-${e.hScroll}px);`)},null,4),a("div",{ref:"vRulerWpRef",class:"ruler-wrapper v-container",style:W(`transform: rotate(90deg) translateX(-${e.vScroll}px);`)},null,4),dn])}var mn=F(sn,[["render",un],["__scopeId","data-v-5f454e16"]]);function zt(o){return o*Math.PI/180}function dt(o){return Math.abs(Math.sin(zt(o)))}function ut(o){return Math.abs(Math.cos(zt(o)))}function mt(o){if(o=oe({},o),o.rotate!==0){const t=o.width*ut(o.rotate)+o.height*dt(o.rotate),n=(o.width-t)/2;o.left+=n,o.right=o.left+t;const e=o.height*ut(o.rotate)+o.width*dt(o.rotate),d=(e-o.height)/2;o.top-=d,o.bottom=o.top+e,o.width=t,o.height=e}else o.bottom=o.top+o.height,o.right=o.left+o.width;return o}const fn=5,hn={name:"mark-line",setup(){const{schemaStore:o,storeToRefs:t}=R(),{comps:n,selectedCom:e,canvas:d,toolbox:s}=t(o),r=T([]),i=T(["xt","xc","xb","yl","yc","yr"]),l=T({xt:!1,xc:!1,xb:!1,yl:!1,yc:!1,yr:!1}),c=()=>{Object.keys(l.value).forEach(y=>{l.value[y]=!1})};function h({key:y,value:B}){const C={left:"x",top:"y"};o.setShapeSingleStyle({key:C[y],value:B})}const f=(y,B)=>{const C=r.value,X=e.value,ne=n.value.filter(D=>!D.hided),Y=d.value.scale,z=mt(g(X.attr)),M=z.width/2,H=z.height/2;c(),ne.forEach(D=>{if(D.id===X.id||D.locked||D.hided)return;const{top:I,left:P,bottom:G,right:Q,width:ge,height:be}=mt(g(D.attr)),le=ge/2,$=be/2,ce={top:[{isNearly:x(z.top,I),lineNode:C.xt,line:"xt",dragShift:I,lineShift:I},{isNearly:x(z.bottom,I),lineNode:C.xt,line:"xt",dragShift:I-z.height,lineShift:I},{isNearly:x(z.top+H,I+$),lineNode:C.xc,line:"xc",dragShift:I+$-H,lineShift:I+$},{isNearly:x(z.top,G),lineNode:C.xb,line:"xb",dragShift:G,lineShift:G},{isNearly:x(z.bottom,G),lineNode:C.xb,line:"xb",dragShift:G-z.height,lineShift:G}],left:[{isNearly:x(z.left,P),lineNode:C.yl,line:"yl",dragShift:P,lineShift:P},{isNearly:x(z.right,P),lineNode:C.yl,line:"yl",dragShift:P-z.width,lineShift:P},{isNearly:x(z.left+M,P+le),lineNode:C.yc,line:"yc",dragShift:P+le-M,lineShift:P+le},{isNearly:x(z.left,Q),lineNode:C.yr,line:"yr",dragShift:Q,lineShift:Q},{isNearly:x(z.right,Q),lineNode:C.yr,line:"yr",dragShift:Q-z.width,lineShift:Q}]},ue=[],{rotate:Ve}=z;Object.keys(ce).forEach(me=>{ce[me].forEach(se=>{if(!se.isNearly)return;const ze=Ve!==0?p(me,se,z):se.dragShift;h({key:me,value:ze}),se.lineNode.style[me]=`${se.lineShift*Y+60}px`,ue.push(se.line)})}),ue.length&&u(ue,y,B)})},p=(y,B,C)=>{const{w:X,h:ne}=e.value.attr;return Math.round(y==="top"?B.dragShift-(ne-C.height)/2:B.dragShift-(X-C.width)/2)},u=(y,B,C)=>{C?y.includes("yr")?l.value.yr=!0:y.includes("yc")?l.value.yc=!0:y.includes("yl")&&(l.value.yl=!0):y.includes("yl")?l.value.yl=!0:y.includes("yc")?l.value.yc=!0:y.includes("yr")&&(l.value.yr=!0),B?y.includes("xb")?l.value.xb=!0:y.includes("xc")?l.value.xc=!0:y.includes("xt")&&(l.value.xt=!0):y.includes("xt")?l.value.xt=!0:y.includes("xc")?l.value.xc=!0:y.includes("xb")&&(l.value.xb=!0)},g=y=>({left:y.x,top:y.y,width:y.w,height:y.h,rotate:y.rotate}),x=(y,B)=>Math.abs(y-B)<=fn;return ve(()=>{de.on("move",({isDownward:y,isRightward:B})=>{s.value.markLine&&f(y,B)}),de.on("unmove",()=>{c()})}),ke(()=>{de.off("move"),de.off("unmove")}),{lineRefs:r,lines:i,lineStatus:l}}},pn={class:"mark-line"};function gn(o,t,n,e,d,s){return b(),w("div",pn,[(b(!0),w(U,null,te(e.lines,r=>pe((b(),w("div",{key:r,class:V(["line",[r.includes("x")?"xline":"yline",r]]),ref_for:!0,ref:i=>{e.lineRefs[r]=i}},null,2)),[[bt,e.lineStatus[r]||!1]])),128))])}var bn=F(hn,[["render",gn],["__scopeId","data-v-00d4450a"]]);const{schemaStore:Tt}=R(),_n=[{direction:"lt",angle:0},{direction:"t",angle:45},{direction:"rt",angle:90},{direction:"r",angle:135},{direction:"rb",angle:180},{direction:"b",angle:225},{direction:"lb",angle:270},{direction:"l",angle:315}],ft=[{start:338,end:23,cursor:"nwse-resize"},{start:23,end:68,cursor:"ns-resize"},{start:68,end:113,cursor:"nesw-resize"},{start:113,end:158,cursor:"ew-resize"},{start:158,end:203,cursor:"nwse-resize"},{start:203,end:248,cursor:"ns-resize"},{start:248,end:293,cursor:"nesw-resize"},{start:293,end:338,cursor:"ew-resize"}],vn=o=>{const t=(o+360)%360,n={};let e=-1;return _n.forEach(d=>{const s=(d.angle+t)%360,r=ft.length,i=0;for(;i<r;){e=(e+1)%r;const l=ft[e];if(s<23||s>=338){n[d.direction]="nwse-resize";break}if(l.start<=s&&s<l.end){n[d.direction]=l.cursor;break}}}),n};function yn(o,t,n,e,d,s){o==="t"?(s.h=Math.round(t.h+(n.y-e.y)/d),s.y=Math.round(t.y+(e.y-n.y)/d),s.h=Math.max(s.h,20)):o==="rt"?(s.h=Math.round(t.h+(n.y-e.y)/d),s.w=Math.round(t.w+(e.x-n.x)/d),s.y=Math.round(t.y+(e.y-n.y)/d),s.w=Math.max(s.w,20),s.h=Math.max(s.h,20)):o==="r"?(s.w=Math.round(t.w+(e.x-n.x)/d),s.w=Math.max(s.w,20)):o==="rb"?(s.h=Math.round(t.h+(e.y-n.y)/d),s.w=Math.round(t.w+(e.x-n.x)/d),s.w=Math.max(s.w,20),s.h=Math.max(s.h,20)):o==="b"?(s.h=Math.round(t.h+(e.y-n.y)/d),s.h=Math.max(s.h,20)):o==="lb"?(s.h=Math.round(t.h+(e.y-n.y)/d),s.w=Math.round(t.w+(n.x-e.x)/d),s.x=Math.round(t.x+(e.x-n.x)/d),s.w=Math.max(s.w,20),s.h=Math.max(s.h,20)):o==="l"?(s.w=Math.round(t.w+(n.x-e.x)/d),s.x=Math.round(t.x+(e.x-n.x)/d),s.w=Math.max(s.w,20)):o==="lt"&&(s.h=Math.round(t.h+(n.y-e.y)/d),s.w=Math.round(t.w+(n.x-e.x)/d),s.x=Math.round(t.x+(e.x-n.x)/d),s.y=Math.round(t.y+(e.y-n.y)/d),s.w=Math.max(s.w,20),s.h=Math.max(s.h,20))}const Bt=(o,t,n,e,d)=>{const s=oe({},n.attr),r=Object.create(null),i=o.clientX,l=o.clientY;let c=!1;const h=p=>{c=!0;const u=p.clientX,g=p.clientY;t?yn(t,s,{x:i,y:l},{x:u,y:g},e,r):(r.x=s.x+Math.round((u-i)/e/d)*d,r.y=s.y+Math.round((g-l)/e/d)*d),n.attr=oe(oe({},n.attr),r),Se().then(()=>{de.emit("move",{isDownward:g-l>0,isRightward:u-i>0})})},f=()=>{de.emit("unmove"),c&&Tt.recordSnapshot(),Z(document,"mousemove",h),Z(document,"mouseup",f)};q(document,"mousemove",h),q(document,"mouseup",f)},wn=(o,t,n,e)=>{Bt(o,null,t,n,e)},Sn=(o,t,n,e)=>{Bt(o,t,n,e)},xn=(o,t,n)=>{const e=t.getBoundingClientRect(),d=e.left+e.width/2,s=e.top+e.height/2,r=Math.atan2(s-o.clientY,d-o.clientX)*180/Math.PI-n.attr.rotate;let i=!1;const l=h=>{i=!0;const f=Math.atan2(s-h.clientY,d-h.clientX)*180/Math.PI-r,p=Math.round(f%360);n.attr.rotate=p<0?p+360:p},c=()=>{i&&Tt.recordSnapshot(),Z(document,"mousemove",l),Z(document,"mouseup",c)};q(document,"mousemove",l),q(document,"mouseup",c)},Cn={name:"refer-line",props:{attr:{type:Object,required:!0},scale:{type:Number,required:!0}},setup(o){const t=k(()=>({height:`${o.attr.y+60/o.scale}px`,borderLeftWidth:`${.9/o.scale}px`})),n=k(()=>({width:`${o.attr.x+60/o.scale}px`,borderTopWidth:`${.9/o.scale}px`})),e=k(()=>({fontSize:`${12/o.scale}px`,top:`-${6/o.scale}px`,left:`-${6/o.scale}px`}));return{topLineStyle:t,leftLineStyle:n,accountStyle:e}}},kn={class:"nav-line"};function Mn(o,t,n,e,d,s){return b(),w("div",kn,[a("div",{class:"nav-line-top",style:W(e.topLineStyle)},null,4),a("div",{class:"nav-line-left",style:W(e.leftLineStyle)},null,4),a("div",{class:"nav-line-account",style:W(e.accountStyle)},J(n.attr.x)+", "+J(n.attr.y),5)])}var Vn=F(Cn,[["render",Mn]]);const zn={name:"dv-transform",components:{ReferLine:Vn},props:{data:{type:Object,required:!0}},setup(o){const t=It(),{showMenu:n}=We(),{schemaStore:e,storeToRefs:d}=R(),{canvas:s,comps:r,pageConfig:i,selectedCom:l,hoveredComId:c,toolbox:h,spaceDown:f,multiSelect:p,multipleComs:u}=d(e),g=k(()=>c.value===o.data.id),x=k(()=>p.value?!1:!Me(l.value)&&l.value.id===o.data.id),y=k(()=>p.value?u.value.map($=>$.id).includes(o.data.id):!1),B=k(()=>({locked:o.data.locked,selected:x.value})),C=k(()=>({top:0,left:0,width:`${o.data.attr.w}px`,height:`${o.data.attr.h}px`,transform:`translate(${o.data.attr.x}px, ${o.data.attr.y}px)`})),X=k(()=>({"is-hide":!x.value||o.data.locked})),ne=k(()=>({cursor:"move",transform:`rotate(${o.data.attr.rotate}deg)`})),Y=k(()=>({width:`${o.data.attr.w}px`,height:`${o.data.attr.h}px`})),z=k(()=>({display:o.data.hided?"none":"block"})),M=k(()=>vn(o.data.attr.rotate)),H=k(()=>s.value.scale),D=k(()=>{const $=`scale(${1/H.value}, ${1/H.value})`;return{t:{name:"top",style:{cursor:M.value.t,transform:$}},rt:{name:"top-right",style:{cursor:M.value.rt},rotateStyle:{"transform-origin":"25% 75%",transform:$}},r:{name:"right",style:{cursor:M.value.r,transform:$}},rb:{name:"bottom-right",style:{cursor:M.value.rb},rotateStyle:{"transform-origin":"25% 25%",transform:$}},b:{name:"bottom",style:{cursor:M.value.b,transform:$}},lb:{name:"bottom-left",style:{cursor:M.value.lb},rotateStyle:{"transform-origin":"75% 25%",transform:$}},l:{name:"left",style:{cursor:M.value.l,transform:$}},lt:{name:"top-left",style:{cursor:M.value.lt},rotateStyle:{"transform-origin":"75% 75%",transform:$}}}}),I=()=>e.hoverCom(o.data.id),P=()=>e.hoverCom(""),G=()=>{e.selectCom(o.data)},Q=$=>{f.value||($.stopPropagation(),$.preventDefault(),G(),wn($,o.data,H.value,i.value.grid))},ge=($,ce)=>{G(),Sn($,ce,o.data,H.value)},be=$=>{xn($,t.vnode.el,o.data)};function le(){G(),l.value.locked=!1}return{comps:r,selectedCom:l,hoveredComId:c,toolbox:h,isHovered:g,isSelected:x,isMultiSelted:y,hideStyle:z,transformClass:B,transformStyle:C,handlerClass:X,handlerStyle:ne,wrapperStyle:Y,onEnter:I,onLeave:P,onMove:Q,onZoom:ge,onRotate:be,points:D,scale:H,showMenu:n,unLock:le}}},Tn={class:"dv-com"},Bn=["onMousedown"],Dn=["onMousedown"],$n=a("div",{class:"transform-bg"},null,-1);function Ln(o,t,n,e,d,s){const r=v("refer-line");return b(),w("div",{class:V(["dv-transform",e.transformClass]),style:W(e.transformStyle)},[e.toolbox.referLine&&e.isSelected?(b(),O(r,{key:0,attr:n.data.attr,scale:e.scale},null,8,["attr","scale"])):re("",!0),a("div",{class:V(["dv-scale",{hovered:e.isHovered}]),style:W(e.hideStyle),onMouseenter:t[2]||(t[2]=(...i)=>e.onEnter&&e.onEnter(...i)),onMouseleave:t[3]||(t[3]=(...i)=>e.onLeave&&e.onLeave(...i)),onMousedown:t[4]||(t[4]=(...i)=>e.onMove&&e.onMove(...i))},[a("div",{class:V(["transform-handler",e.handlerClass]),style:W(e.handlerStyle)},[a("div",Tn,[_t(o.$slots,"default"),a("div",{class:"dv-event-disable",style:W(e.wrapperStyle),onContextmenu:t[0]||(t[0]=(...i)=>e.showMenu&&e.showMenu(...i))},null,36)]),(b(!0),w(U,null,te(e.points,(i,l)=>(b(),w(U,{key:l},[i.rotateStyle?(b(),w("i",{key:0,class:V(`${i.name}-handler`),"data-html2canvas-ignore":""},[a("span",{class:"rotate-handler",style:W(i.rotateStyle),onMousedown:t[1]||(t[1]=ee((...c)=>e.onRotate&&e.onRotate(...c),["prevent","stop"]))},[a("span",{class:"control-point",style:W(i.style),onMousedown:ee(c=>e.onZoom(c,l),["prevent","stop"])},null,44,Bn)],36)],2)):(b(),w("i",{key:1,class:V(`${i.name}-handler`),"data-html2canvas-ignore":""},[a("span",{class:"control-point",style:W(i.style),onMousedown:ee(c=>e.onZoom(c,l),["prevent","stop"])},null,44,Dn)],2))],64))),128)),$n],6)],38),n.data.locked?(b(),w("i",{key:1,class:"b-iconfont b-icon-lock",title:"\u89E3\u9501",onClick:t[5]||(t[5]=ee((...i)=>e.unLock&&e.unLock(...i),["stop"]))})):re("",!0)],6)}var Wn=F(zn,[["render",Ln]]);const Rn=["onClick"],jn=["onClick"],An={__name:"index",setup(o){const{schemaStore:t}=R(),n=k(()=>t.toolbar.config?{right:"332px"}:{right:0}),e=()=>t.undo(),d=()=>t.redo();return(s,r)=>(b(),w("div",{class:"action-bar-wrap",style:W(S(n))},[a("i",{class:"action-btn b-iconfont b-icon-aim",title:"\u6700\u4F73\u753B\u5E03\u6BD4\u4F8B",onClick:r[0]||(r[0]=ee(i=>S(t).autoCanvasScale(),["stop"]))}),a("i",{class:"action-btn b-iconfont b-icon-icon-test",title:"1:1\u753B\u5E03\u5927\u5C0F",onClick:r[1]||(r[1]=ee(i=>S(t).setCanvasScale(100),["stop"]))}),a("i",{class:"action-btn b-iconfont b-icon-rollback",title:"\u64A4\u9500",onClick:ee(e,["stop"])},null,8,Rn),a("i",{class:"action-btn b-iconfont b-icon-rollback",title:"\u91CD\u505A",onClick:ee(d,["stop"]),style:{transform:"rotateY(180deg)"}},null,8,jn)],4))}};var In=F(An,[["__scopeId","data-v-1c712a36"]]);const Nn={__name:"index",props:{x:Number,y:Number,width:Number,height:Number,showArea:Boolean},setup(o){return(t,n)=>pe((b(),w("div",{style:W({left:o.x+"px",top:o.y+"px",width:o.width+"px",height:o.height+"px"}),class:"area"},null,4)),[[bt,o.showArea]])}};var On=F(Nn,[["__scopeId","data-v-7dc8d1b8"]]);const Fn={class:"canvas-main"},Un=["onMousedown"],Yn={__name:"index",setup(o){const{schemaStore:t,storeToRefs:n}=R(),{pageConfig:e,spaceDown:d,canvas:s,selectedCom:r,comps:i,toolbox:l,getPanelOffsetLeft:c,getPanelOffsetTop:h}=n(t),f=T(null),p=xe({drag:!1,startX:0,startY:0}),u=xe({x:0,y:0,width:0,height:0,showArea:!1}),g=k(()=>({width:`${s.value.width}px`,height:`${s.value.height}px`})),x=k(()=>({position:"absolute",width:`${e.value.width}px`,height:`${e.value.height}px`,transform:`scale(${s.value.scale}) translate(0px, 0px)`,backgroundImage:`url(${e.value.bgImage})`,backgroundColor:e.value.bgColor})),y=Kt(t.autoCanvasScale,50),B=async Y=>{Y.preventDefault();try{const z=Y.dataTransfer.getData("text");if(z){const M=Vt(z),{scale:H}=s.value,D=(Y.clientX-c.value+f.value.scrollLeft)/H,I=(Y.clientY-h.value+f.value.scrollTop)/H;if(M.attr.x=Math.round(D-M.attr.w/2),M.attr.y=Math.round(I-M.attr.h/2),t.addCom({component:M}),t.selectCom(M),M.apiData&&M.apiData.type===$e.static&&M.apiData.staticPath){const{data:P}=await wt(M.id,M.apiData.staticPath);r.value.apiData.config.data=JSON.stringify(P)}}}catch(z){console.warn(z)}},C=Y=>{Y.preventDefault(),Y.stopPropagation(),Y.dataTransfer.dropEffect="copy"};function X(Y){d.value||t.selectCom(),p.drag=!0;const z=Y.clientX,M=Y.clientY,H=s.value.scale,{scrollLeft:D,scrollTop:I,clientWidth:P,scrollWidth:G,clientHeight:Q,scrollHeight:ge}=f.value,be=P<G||Q<ge,le={left:D,top:I},$=ue=>{if(!d.value||!p.drag||!be)return;const Ve=ue.clientX,me=ue.clientY,se=Math.round((Ve-z)/H),ze=Math.round((me-M)/H);f.value.scrollLeft=le.left-se,f.value.scrollTop=le.top-ze},ce=()=>{p.drag=!1,Z(document,"mousemove",$),Z(document,"mouseup",ce)};q(document,"mousemove",$),q(document,"mouseup",ce)}function ne(){u.showArea=0,u.width=0,u.height=0}return ve(()=>{q(window,"resize",y),de.on("hideArea",ne),t.getEditor(),y()}),ke(()=>{Z(window,"resize",y)}),(Y,z)=>(b(),w("div",Fn,[a("div",{id:"canvas-wp",ref_key:"canvasWpRef",ref:f,class:"canvas-panel-wrap",onMousedown:ee(X,["stop"])},[a("div",{class:"screen-shot",style:W(S(g))},[S(l).markLine?(b(),O(bn,{key:0,style:W(S(g))},null,8,["style"])):re("",!0),m(In),m(mn),a("div",{id:"canvas-components",class:"canvas-panel",style:W(S(x)),onDragover:C,onDrop:B},[(b(!0),w(U,null,te(S(i),M=>(b(),O(Wn,{key:M.id,data:M},{default:_(()=>[(b(),O(vt(M.name),{data:M,style:W({transform:"translateZ(0px)",opacity:M.attr.opacity})},null,8,["data","style"]))]),_:2},1032,["data"]))),128))],36)],4),m(On,Nt(Ot(u)),null,16)],40,Un)]))}};const Pn={name:"page-config",setup(){const{schemaStore:o,storeToRefs:t}=R(),{pageConfig:n}=t(o),e=T(""),d=()=>{n.value.bgColor="#0d2a42",n.value.bgImage=""},s=()=>o.autoCanvasScale(),r=i=>{if(i!=="custom"){const l=i.split("x"),c=+l[0],h=+l[1];o.setScreenSize({width:c,height:h})}};return he([()=>n.value.width,()=>n.value.height],()=>{const{width:i,height:l}=n.value;i===1920&&l===1080||i===2560&&l===1080||i===3440&&l===1080||i===3440&&l===1440||i===414&&l===736||i===375&&l===667||i===375&&l===812?e.value=`${i}x${l}`:e.value="custom"},{immediate:!0}),{screenLabel:e,onSizeChange:s,resetBGImage:d,pageConfig:n,pageMap:[{group:"web\u7AEF",data:Jt.map(i=>({value:`${i.width}x${i.height}`,label:i.label}))},{group:"\u79FB\u52A8\u8BBE\u5907",data:qt.map(i=>({value:`${i.width}x${i.height}`,label:i.label}))},{group:"\u5176\u4ED6",data:[{value:"custom",label:"\u81EA\u5B9A\u4E49"}]}],sizeChange:r}}},En=o=>(ye("data-v-75712752"),o=o(),we(),o),Hn={class:"page-config-panel"},Xn=En(()=>a("div",{class:"page-config-top"},"\u9875\u9762\u8BBE\u7F6E",-1)),Gn={class:"page-config-content"},Kn={class:"page-config-wp"},Jn=L("\u6062\u590D\u9ED8\u8BA4\u80CC\u666F"),qn={class:"page-config-wp"};function Zn(o,t,n,e,d,s){const r=v("g-group-select"),i=v("g-field"),l=v("g-input-number"),c=v("g-color-picker"),h=v("g-upload-img"),f=v("g-images-select"),p=v("b-button");return b(),w("div",Hn,[Xn,a("div",Gn,[a("div",Kn,[m(i,{label:"\u5C4F\u5E55\u8BBE\u7F6E",flat:""},{default:_(()=>[m(r,{modelValue:e.screenLabel,"onUpdate:modelValue":t[0]||(t[0]=u=>e.screenLabel=u),data:e.pageMap,onChange:e.sizeChange},null,8,["modelValue","data","onChange"])]),_:1}),m(i,{label:"\u5C4F\u5E55\u5927\u5C0F",flat:""},{default:_(()=>[m(l,{modelValue:e.pageConfig.width,"onUpdate:modelValue":t[1]||(t[1]=u=>e.pageConfig.width=u),label:"\u5BBD\u5EA6",min:375,max:3840,inline:"",suffix:"px",onChange:e.onSizeChange},null,8,["modelValue","onChange"]),m(l,{modelValue:e.pageConfig.height,"onUpdate:modelValue":t[2]||(t[2]=u=>e.pageConfig.height=u),label:"\u9AD8\u5EA6",min:600,max:2160,inline:"",suffix:"px",onChange:e.onSizeChange},null,8,["modelValue","onChange"])]),_:1}),m(i,{label:"\u80CC\u666F\u989C\u8272"},{default:_(()=>[m(c,{modelValue:e.pageConfig.bgColor,"onUpdate:modelValue":t[3]||(t[3]=u=>e.pageConfig.bgColor=u)},null,8,["modelValue"])]),_:1}),m(i,{label:"\u80CC\u666F\u56FE",tooltip:"\u652F\u6301\u56FE\u7247\u5730\u5740\u3001\u9759\u6001\u8DEF\u5F84\u3001base64\u5B58\u50A8"},{default:_(()=>[m(h,{modelValue:e.pageConfig.bgImage,"onUpdate:modelValue":t[4]||(t[4]=u=>e.pageConfig.bgImage=u)},null,8,["modelValue"])]),_:1}),m(i,{label:"\u80CC\u666F\u9884\u8BBE",tooltip:"\u53EF\u4EE5\u52A0\u8F7D\u5BF9\u5E94\u9884\u8BBE\u7684\u56FE\u7247\u80CC\u666F"},{default:_(()=>[m(f,{modelValue:e.pageConfig.bgImage,"onUpdate:modelValue":t[5]||(t[5]=u=>e.pageConfig.bgImage=u),images:["bg"],"value-key":"src"},null,8,["modelValue"])]),_:1}),m(i,{label:"\u91CD\u7F6E"},{default:_(()=>[m(p,{type:"primary",size:"small",onClick:e.resetBGImage},{default:_(()=>[Jn]),_:1},8,["onClick"])]),_:1})]),a("div",qn,[m(i,{label:"\u6805\u683C\u95F4\u8DDD",tooltip:"\u6BCF\u6B21\u79FB\u52A8\u7684\u8DDD\u79BB\uFF0C\u5355\u4F4Dpx"},{default:_(()=>[m(l,{modelValue:e.pageConfig.grid,"onUpdate:modelValue":t[6]||(t[6]=u=>e.pageConfig.grid=u),min:1,max:20,suffix:"px"},null,8,["modelValue"])]),_:1})])])])}var Qn=F(Pn,[["render",Zn],["__scopeId","data-v-75712752"]]);const el={name:"config-title",props:{comName:{type:String},comAlias:{type:String}},setup(o){const t=k(()=>{const e=Sa(o.comName);return e?e.com.name:o.comName});return{toSearch:()=>{window.open("https://echarts.apache.org/zh/option.html#title","_blank")},comTitle:t}}},Dt=o=>(ye("data-v-385fde02"),o=o(),we(),o),tl={class:"com-title-wp"},ol={class:"com-title"},al={class:"title-name"},nl={class:"alias-name"},ll={class:"version-tag"},sl=Dt(()=>a("i",{class:"b-iconfont b-icon-search"},null,-1)),il=Dt(()=>a("span",null,"\u641C\u7D22\u914D\u7F6E",-1)),rl=[sl,il];function cl(o,t,n,e,d,s){return b(),w("div",tl,[a("div",ol,[a("div",al,[a("span",nl,J(n.comAlias),1)]),a("div",ll,[a("span",null,J(e.comTitle),1)])]),_t(o.$slots,"default",{},()=>[a("div",{class:"search-config",onClick:t[0]||(t[0]=(...r)=>e.toSearch&&e.toSearch(...r)),title:"echarts option config"},rl)],!0)])}var je=F(el,[["render",cl],["__scopeId","data-v-385fde02"]]);const dl={name:"data-center-panel",components:{ConfigTitle:je,SourcePanel:Zt(()=>Qt(()=>import("./source-panel-95d9ddbe.js"),["static/js/source-panel-95d9ddbe.js","static/css/source-panel-9456a5cd.css","static/js/index-e6a17aa2.js","static/css/index-522455ba.css","static/js/vendor-38ba0469.js","static/css/vendor-2b79d43b.css","static/js/chunk-brace-a5f4a3e9.js","static/js/chunk-bin-ui-next-c6419b41.js","static/css/chunk-bin-ui-next-adf58ce0.css"]))},setup(){const{schemaStore:o,storeToRefs:t}=R(),{selectedCom:n}=t(o),e=k(()=>Object.keys(n.value.apiData));return{selectedCom:n,dataKeys:e}}},ul={class:"data-center-panel"},ml={class:"scroll-container"},fl={key:1,style:{"min-height":"300px"},flex:"main:center cross:center"},hl=L("\u8BE5\u7EC4\u4EF6\u4E0D\u9700\u8981\u914D\u7F6E\u6570\u636E");function pl(o,t,n,e,d,s){const r=v("config-title"),i=v("source-panel"),l=v("b-empty"),c=v("b-scrollbar");return b(),w("div",ul,[m(r,{"com-name":e.selectedCom.name,"com-alias":e.selectedCom.alias},null,8,["com-name","com-alias"]),a("div",ml,[m(c,{native:""},{default:_(()=>[e.dataKeys.length>0?(b(),O(i,{key:0})):(b(),w("div",fl,[m(l,null,{default:_(()=>[hl]),_:1})]))]),_:1})])])}var gl=F(dl,[["render",pl]]);const bl={class:"basic-setting-wp"},_l={style:{width:"50%"}},vl={__name:"basic-setting",props:{attr:{type:Object,required:!0}},emits:["update:attr"],setup(o,{emit:t}){const n=o,e=k({get:()=>n.attr,set:i=>t("update:attr",i)}),{schemaStore:d,storeToRefs:s}=R(),{multiSelect:r}=s(d);return(i,l)=>{const c=v("g-input-number"),h=v("g-field"),f=v("b-button"),p=v("b-button-group"),u=v("g-slider");return b(),w("div",bl,[m(h,{label:"\u56FE\u8868\u5C3A\u5BF8",flat:""},{default:_(()=>[m(c,{modelValue:S(e).w,"onUpdate:modelValue":l[0]||(l[0]=g=>S(e).w=g),label:"\u5BBD\u5EA6",min:10,max:4e3,inline:"",suffix:"px"},null,8,["modelValue"]),m(c,{modelValue:S(e).h,"onUpdate:modelValue":l[1]||(l[1]=g=>S(e).h=g),label:"\u9AD8\u5EA6",min:10,max:4e3,inline:"",suffix:"px"},null,8,["modelValue"])]),_:1}),m(h,{label:"\u56FE\u8868\u4F4D\u7F6E",flat:""},{default:_(()=>[m(c,{modelValue:S(e).x,"onUpdate:modelValue":l[2]||(l[2]=g=>S(e).x=g),label:"X",inline:"",suffix:"px"},null,8,["modelValue"]),m(c,{modelValue:S(e).y,"onUpdate:modelValue":l[3]||(l[3]=g=>S(e).y=g),label:"Y",inline:"",suffix:"px"},null,8,["modelValue"])]),_:1}),m(h,{label:"\u65CB\u8F6C\u89D2\u5EA6",flat:""},{default:_(()=>[m(c,{modelValue:S(e).rotate,"onUpdate:modelValue":l[4]||(l[4]=g=>S(e).rotate=g),min:0,max:360,step:1,inline:""},null,8,["modelValue"]),a("div",_l,[m(p,null,{default:_(()=>[(b(!0),w(U,null,te(S(co),g=>(b(),O(f,{key:g.value,size:"mini",title:g.label,onClick:x=>S(d).doRotate(g.value)},{default:_(()=>[a("i",{class:V(`b-iconfont b-icon-${g.value}`)},null,2)]),_:2},1032,["title","onClick"]))),128))]),_:1})])]),_:1}),m(h,{label:"\u900F\u660E\u5EA6"},{default:_(()=>[m(u,{modelValue:S(e).opacity,"onUpdate:modelValue":l[5]||(l[5]=g=>S(e).opacity=g),min:0,max:1,step:.05},null,8,["modelValue","step"])]),_:1}),m(h,{label:"\u4F4D\u7F6E"},{default:_(()=>[m(p,null,{default:_(()=>[(b(!0),w(U,null,te(S(uo),g=>(b(),O(f,{key:g.value,size:"mini",title:g.label,onClick:x=>S(d).doAdsorption(g.value)},{default:_(()=>[a("i",{class:V(`iconfont-align b-icon-${g.value}-vs`)},null,2)]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1}),S(r)?(b(),O(h,{key:0,label:"\u5BF9\u9F50"},{default:_(()=>[m(p,null,{default:_(()=>[(b(!0),w(U,null,te(S(mo),g=>(b(),O(f,{key:g.value,size:"mini",title:g.label,onClick:x=>S(d).doAlign(g.value)},{default:_(()=>[a("i",{class:V(`iconfont-align b-icon-${g.value}`)},null,2)]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1})):re("",!0)])}}},yl={class:"setting-panel"},wl={class:"setting-panel-content"},Sl={class:"scroll-container"},xl={__name:"index",setup(o){const{schemaStore:t,storeToRefs:n}=R(),{selectedCom:e}=n(t);return(d,s)=>{const r=v("b-scrollbar");return b(),w("div",yl,[m(je,{"com-name":S(e).name,"com-alias":S(e).alias},null,8,["com-name","com-alias"]),a("div",wl,[a("div",Sl,[m(r,null,{default:_(()=>[(b(),O(vl,{key:`${S(e).id}'_basic-setting`,attr:S(e).attr},null,8,["attr"])),(b(),O(vt(S(e).name+"Config"),{key:S(e).id,data:S(e)},null,8,["data"]))]),_:1})])])])}}},Cl={class:"setting-panel"},kl=a("span",null,null,-1),Ml={class:"setting-panel-content"},Vl={class:"scroll-container"},zl={__name:"multi-setting",setup(o){return(t,n)=>{const e=v("b-scrollbar");return b(),w("div",Cl,[m(je,{"com-alias":"\u591A\u9009\u533A\u57DF"},{default:_(()=>[kl]),_:1}),a("div",Ml,[a("div",Vl,[m(e)])])])}}},Tl={class:"config-panel"},Bl={key:0,class:"page-config-panel"},Dl={class:"page-config-top"},$l={class:"tabs-wrapper"},Ll={key:0,class:"page-config-content"},Wl={key:1,class:"page-config-content"},Rl={key:0,style:{height:"100%"}},jl={key:1,style:{height:"100%"}},Al={__name:"index",setup(o){const{schemaStore:t,storeToRefs:n}=R(),{toolbar:e,selectedCom:d,multiSelect:s}=n(t),r=T(0),i=l=>{if(!(s.value&&l>0)){if(l===2){fe.warning("\u6682\u672A\u5F00\u653E!");return}r.value!==l&&(r.value=l)}};return he(()=>d.value,()=>{r.value=0}),(l,c)=>{const h=v("b-icon"),f=v("b-tooltip");return b(),w("div",{class:V(["config-panel-wp",{"is-hide":!S(e).config}])},[a("div",Tl,[S(d)||S(s)?(b(),w("div",Bl,[a("div",Dl,[a("div",$l,[a("div",{class:V(["tab-item",{active:r.value===0}]),onClick:c[0]||(c[0]=p=>i(0))},[m(f,{content:"\u914D\u7F6E"},{default:_(()=>[m(h,{name:"control",size:"20"})]),_:1})],2),a("div",{class:V(["tab-item",{active:r.value===1}]),onClick:c[1]||(c[1]=p=>i(1))},[m(f,{content:"\u6570\u636E"},{default:_(()=>[m(h,{name:"cloud-server",size:"22"})]),_:1})],2),a("div",{class:V(["tab-item",{active:r.value===2}]),onClick:c[2]||(c[2]=p=>i(2))},[m(f,{content:"\u4E8B\u4EF6"},{default:_(()=>[m(h,{name:"deploymentunit",size:"18"})]),_:1})],2)])]),S(s)?(b(),w("div",Ll,[m(zl)])):(b(),w("div",Wl,[r.value===0?(b(),w("div",Rl,[(b(),O(xl,{key:S(d).id}))])):re("",!0),r.value===1?(b(),w("div",jl,[(b(),O(gl,{key:S(d).id}))])):re("",!0)]))])):(b(),O(Qn,{key:1}))])],2)}}},Il={class:"toolbox-panel",flex:"main:justify"},Nl={style:{width:"500px"},flex:""},Ol=a("i",{class:"action-btn b-iconfont b-icon-rollback"},null,-1),Fl=L(" \u64A4\u9500 "),Ul=a("i",{class:"action-btn b-iconfont b-icon-rollback",style:{transform:"rotateY(180deg)"}},null,-1),Yl=L(" \u91CD\u505A "),Pl=a("div",null,null,-1),El={class:"btn-box"},Hl=L(" \u53C2\u8003\u7EBF\xA0\xA0 "),Xl={class:"btn-box"},Gl=L(" \u5BF9\u9F50\u7EBF\xA0\xA0 "),Kl={class:"ctrl-box"},Jl=L(" \xA0\xA0 "),ql=L("\u6E05\u7A7A\u753B\u5E03"),Zl={__name:"index",setup(o){const{schemaStore:t,storeToRefs:n}=R(),{toolbar:e,toolbox:d}=n(t),s=()=>{yt.confirm({type:"error",title:"\u786E\u8BA4\u6E05\u7A7A\u753B\u5E03\u5417\uFF1F\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01"}).then(()=>{t.clearScreen()}).catch(()=>{})},r=()=>t.undo(),i=()=>t.redo();return(l,c)=>{const h=v("b-button"),f=v("b-switch");return b(),w("div",{class:V(["toolbox-panel-wp",{"is-hide":!S(e).toolbox}])},[a("div",Il,[a("div",Nl,[m(h,{size:"mini",onClick:r},{default:_(()=>[Ol,Fl]),_:1}),m(h,{size:"mini",onClick:i},{default:_(()=>[Ul,Yl]),_:1}),Pl,a("div",El,[Hl,m(f,{modelValue:S(d).referLine,"onUpdate:modelValue":c[0]||(c[0]=p=>S(d).referLine=p),size:"small"},null,8,["modelValue"])]),a("div",Xl,[Gl,m(f,{modelValue:S(d).markLine,"onUpdate:modelValue":c[1]||(c[1]=p=>S(d).markLine=p),size:"small"},null,8,["modelValue"])])]),a("div",Kl,[Jl,m(h,{size:"mini",icon:"clear",onClick:s},{default:_(()=>[ql]),_:1})])])],2)}}};const Ql={name:"shortcut",props:{modelValue:{type:Boolean}},emits:["update:modelValue"]},es=o=>(ye("data-v-7e8e628e"),o=o(),we(),o),ts=es(()=>a("div",{class:"shortcut-wp"},[a("div",{class:"shortcut-box"},[a("div",{class:"key-title"},"\u57FA\u7840\u5FEB\u6377\u952E"),a("div",{class:"key-wrap"},[a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u5F00\u5173\u56FE\u5C42\u9762\u677F"),a("div",{class:"shortcut-value"},"Ctrl + \u2190")]),a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u5F00\u5173\u914D\u7F6E\u9762\u677F"),a("div",{class:"shortcut-value"},"Ctrl + \u2192")]),a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u5F00\u5173\u7EC4\u4EF6\u9762\u677F"),a("div",{class:"shortcut-value"},"Ctrl + \u2191")]),a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u5F00\u5173\u5DE5\u5177\u680F"),a("div",{class:"shortcut-value"},"Ctrl + \u2193")]),a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u590D\u5236\u9009\u4E2D\u7EC4\u4EF6"),a("div",{class:"shortcut-value"},"Ctrl + C")]),a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u7C98\u8D34\u7EC4\u4EF6"),a("div",{class:"shortcut-value"},"Ctrl + V")]),a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u64A4\u9500\u64CD\u4F5C"),a("div",{class:"shortcut-value"},"Ctrl + Z")]),a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u4FDD\u5B58\u770B\u677F"),a("div",{class:"shortcut-value"},"Ctrl + S")])])]),a("div",{class:"shortcut-box"},[a("div",{class:"key-title"},"\u753B\u5E03\u64CD\u4F5C"),a("div",{class:"key-wrap"},[a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u753B\u5E03\u7F29\u653E\u6700\u4F73\u6BD4\u4F8B"),a("div",{class:"shortcut-value"},"Ctrl + A")]),a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u753B\u5E03\u7F29\u653E\u4E3A1\uFF1A1"),a("div",{class:"shortcut-value"},"Ctrl + D")]),a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u81EA\u7531\u7F29\u653E"),a("div",{class:"shortcut-value"},"Ctrl + \u9F20\u6807\u6EDA\u8F6E/\u6EDA\u52A8")]),a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u79FB\u52A8\u753B\u5E03"),a("div",{class:"shortcut-value"},"Space + \u9F20\u6807\u5DE6\u952E/\u62D6\u52A8")])])]),a("div",{class:"shortcut-box"},[a("div",{class:"key-title"},"\u7EC4\u4EF6\u64CD\u4F5C"),a("div",{class:"key-wrap"},[a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u7EC4\u4EF6\u7F6E\u9876"),a("div",{class:"shortcut-value"},"Alt + Home")]),a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u7EC4\u4EF6\u7F6E\u5E95"),a("div",{class:"shortcut-value"},"Alt + End")]),a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u4E0A\u79FB\u4E00\u5C42"),a("div",{class:"shortcut-value"},"Alt + \u2191")]),a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u4E0B\u79FB\u4E00\u5C42"),a("div",{class:"shortcut-value"},"Alt + \u2193")]),a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u79FB\u52A8\u7EC4\u4EF61\u50CF\u7D20"),a("div",{class:"shortcut-value"},"\u2191 \u2193 \u2190 \u2192")]),a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u79FB\u52A8\u7EC4\u4EF610\u50CF\u7D20"),a("div",{class:"shortcut-value"},"Shift + \u2191 \u2193 \u2190 \u2192")]),a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u91CD\u547D\u540D"),a("div",{class:"shortcut-value"},"F2/\u53CC\u51FB\u56FE\u5C42")]),a("div",{class:"shortcut-item"},[a("div",{class:"shortcut-title"},"\u5220\u9664\u9009\u4E2D\u7EC4\u4EF6"),a("div",{class:"shortcut-value"},"Delete")])])])],-1));function os(o,t,n,e,d,s){const r=v("b-modal");return b(),O(r,{title:"\u5FEB\u6377\u952E\u6307\u5357","model-value":n.modelValue,"append-to-body":"","custom-class":"schema-modal",onClose:t[0]||(t[0]=i=>o.$emit("update:modelValue",!1))},{default:_(()=>[ts]),_:1},8,["model-value"])}var as=F(Ql,[["render",os],["__scopeId","data-v-7e8e628e"]]);const ns={name:"footer-panel",components:{Shortcut:as},setup(){const{schemaStore:o,storeToRefs:t}=R(),{pageConfig:n,canvas:e}=t(o),d=T([200,150,100,50]),s=T(20),r=T(20),i=T(!1),l=async c=>{c===-1?o.autoCanvasScale():o.setCanvasScale(c===0?s.value:c)};return he(()=>e.value.scale,c=>{const h=parseInt((c*100).toFixed(2));r.value=h,s.value=h}),{pageConfig:n,scaleList:d,inputScale:s,scale:r,submitScale:l,keycodeVisible:i}}},ls={class:"footer-panel"},ss={class:"screen-info",flex:"cross:center"},is={class:"ml-8",style:{transform:"scale(0.9)"}},rs={flex:"cross:center"},cs={class:"scale-input-wp"},ds=a("span",{class:"percent"},"%",-1),us=a("i",{class:"b-iconfont b-icon-down"},null,-1),ms=L("\u81EA\u9002\u5E94"),fs={class:"scale-slider-wp"};function hs(o,t,n,e,d,s){const r=v("b-icon"),i=v("b-tooltip"),l=v("b-dropdown-item"),c=v("b-dropdown-menu"),h=v("b-dropdown"),f=v("b-slider"),p=v("shortcut");return b(),w(U,null,[a("div",ls,[a("div",ss,[m(i,{content:"\u5FEB\u6377\u952E\u63D0\u793A","open-delay":500},{default:_(()=>[m(r,{name:"read",size:"16",type:"button",onClick:t[0]||(t[0]=u=>e.keycodeVisible=!0)})]),_:1}),a("span",is,J(e.pageConfig.width)+" \u50CF\u7D20 * "+J(e.pageConfig.height)+" \u50CF\u7D20",1)]),a("div",rs,[m(h,{trigger:"click",onCommand:e.submitScale},{dropdown:_(()=>[m(c,null,{default:_(()=>[(b(!0),w(U,null,te(e.scaleList,u=>(b(),O(l,{key:u,name:u},{default:_(()=>[L(J(`${u}%`),1)]),_:2},1032,["name"]))),128)),m(l,{name:-1},{default:_(()=>[ms]),_:1})]),_:1})]),default:_(()=>[a("div",cs,[pe(a("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>e.inputScale=u),type:"number",class:"scale-input",onKeydown:t[2]||(t[2]=gt(u=>e.submitScale(0),["enter"]))},null,544),[[De,e.inputScale]]),ds,us])]),_:1},8,["onCommand"]),a("div",fs,[m(f,{modelValue:e.scale,"onUpdate:modelValue":t[3]||(t[3]=u=>e.scale=u),min:10,max:200,step:5,"show-tooltip":!1,onChange:e.submitScale},null,8,["modelValue","onChange"])])])]),m(p,{modelValue:e.keycodeVisible,"onUpdate:modelValue":t[4]||(t[4]=u=>e.keycodeVisible=u)},null,8,["modelValue"])],64)}var ps=F(ns,[["render",hs]]);const gs={name:"context-menu",setup(){const{schemaStore:o,storeToRefs:t}=R(),{selectedCom:n}=t(o),{isLocked:e,isHided:d,contextMenu:s,contextMenuStyle:r}=We(),i=C=>{n.value&&o.moveCom({id:n.value.id,moveType:C})},l=()=>i(ie.up),c=()=>i(ie.down),h=()=>i(ie.top),f=()=>i(ie.bottom),p=()=>{n.value&&(n.value.locked=!n.value.locked)},u=()=>{n.value&&(n.value.hided=!n.value.hided)},g=()=>{const C=n.value;C&&yt.confirm({type:"error",title:"\u662F\u5426\u5220\u9664\u9009\u4E2D\u76841\u4E2A\u7EC4\u4EF6"}).then(()=>{o.deleteCom(C.id)}).catch(()=>{})},x=()=>{const C=n.value;C&&o.renamingCom(C.id)},y=()=>{const C=n.value;C&&o.copyCom(C.id)},B=C=>C.preventDefault();return ve(()=>{q(document,"contextmenu",B)}),ke(()=>{Z(document,"contextmenu",B)}),{contextMenu:s,contextMenuStyle:r,isLocked:e,isHided:d,moveUp:l,moveDown:c,moveTop:h,moveBottom:f,toDeleteCom:g,renameCom:x,toCopyCom:y,lockCom:p,hideCom:u}}},N=o=>(ye("data-v-68b5ef35"),o=o(),we(),o),bs=N(()=>a("i",{class:"menu-icon b-iconfont b-icon-vertical-align-botto",style:{transform:"rotate(180deg)"}},null,-1)),_s=L(" \u7F6E\u9876 "),vs=N(()=>a("span",{class:"key-code"},"Alt + Home",-1)),ys=[bs,_s,vs],ws=N(()=>a("i",{class:"menu-icon b-iconfont b-icon-vertical-align-botto"},null,-1)),Ss=L(" \u7F6E\u5E95 "),xs=N(()=>a("span",{class:"key-code"},"Alt + End",-1)),Cs=[ws,Ss,xs],ks=N(()=>a("i",{class:"menu-icon b-iconfont b-icon-arrowup"},null,-1)),Ms=L(" \u4E0A\u79FB\u4E00\u5C42 "),Vs=N(()=>a("span",{class:"key-code"},"Alt + \u2191",-1)),zs=[ks,Ms,Vs],Ts=N(()=>a("i",{class:"menu-icon b-iconfont b-icon-arrowdown"},null,-1)),Bs=L(" \u4E0B\u79FB\u4E00\u5C42 "),Ds=N(()=>a("span",{class:"key-code"},"Alt + \u2193",-1)),$s=[Ts,Bs,Ds],Ls=N(()=>a("div",{class:"context-menu-divider"},null,-1)),Ws=N(()=>a("i",{class:"menu-icon b-iconfont b-icon-unlock"},null,-1)),Rs=L(" \u89E3\u9501 "),js=N(()=>a("i",{class:"menu-icon b-iconfont b-icon-lock"},null,-1)),As=L(" \u9501\u5B9A "),Is=N(()=>a("i",{class:"menu-icon b-iconfont b-icon-eye"},null,-1)),Ns=L(" \u663E\u793A "),Os=N(()=>a("i",{class:"menu-icon b-iconfont b-icon-eye-close"},null,-1)),Fs=L(" \u9690\u85CF "),Us=N(()=>a("div",{class:"context-menu-divider"},null,-1)),Ys=N(()=>a("i",{class:"menu-icon b-iconfont b-icon-edit"},null,-1)),Ps=L(" \u91CD\u547D\u540D "),Es=N(()=>a("span",{class:"key-code"},"F2",-1)),Hs=[Ys,Ps,Es],Xs=N(()=>a("i",{class:"menu-icon b-iconfont b-icon-file-copy"},null,-1)),Gs=L(" \u590D\u5236 "),Ks=N(()=>a("span",{class:"key-code"},"Ctrl + C,V",-1)),Js=[Xs,Gs,Ks],qs=N(()=>a("i",{class:"menu-icon b-iconfont b-icon-delete"},null,-1)),Zs=L(" \u5220\u9664 "),Qs=N(()=>a("span",{class:"key-code"},"Delete",-1)),ei=[qs,Zs,Qs];function ti(o,t,n,e,d,s){return b(),O(Ft,{name:"zoom-in-top"},{default:_(()=>[e.contextMenu.show?(b(),w("div",{key:0,class:"context-menu-wrap",style:W(e.contextMenuStyle)},[a("div",{class:"context-menu-item",onClick:t[0]||(t[0]=(...r)=>e.moveTop&&e.moveTop(...r))},ys),a("div",{class:"context-menu-item",onClick:t[1]||(t[1]=(...r)=>e.moveBottom&&e.moveBottom(...r))},Cs),a("div",{class:"context-menu-item",onClick:t[2]||(t[2]=(...r)=>e.moveUp&&e.moveUp(...r))},zs),a("div",{class:"context-menu-item",onClick:t[3]||(t[3]=(...r)=>e.moveDown&&e.moveDown(...r))},$s),Ls,a("div",{class:"context-menu-item",onClick:t[4]||(t[4]=(...r)=>e.lockCom&&e.lockCom(...r))},[e.isLocked?(b(),w(U,{key:0},[Ws,Rs],64)):(b(),w(U,{key:1},[js,As],64))]),a("div",{class:"context-menu-item",onClick:t[5]||(t[5]=(...r)=>e.hideCom&&e.hideCom(...r))},[e.isHided?(b(),w(U,{key:0},[Is,Ns],64)):(b(),w(U,{key:1},[Os,Fs],64))]),Us,a("div",{class:"context-menu-item",onClick:t[6]||(t[6]=(...r)=>e.renameCom&&e.renameCom(...r))},Hs),a("div",{class:"context-menu-item",onClick:t[7]||(t[7]=(...r)=>e.toCopyCom&&e.toCopyCom(...r))},Js),a("div",{class:"context-menu-item",onClick:t[8]||(t[8]=(...r)=>e.toDeleteCom&&e.toDeleteCom(...r))},ei)],4)):re("",!0)]),_:1})}var oi=F(gs,[["render",ti],["__scopeId","data-v-68b5ef35"]]);function ai(){const o=Be(),{schemaStore:t}=R(),n=T(!1),e=async s=>{try{n.value=!0;const r=await eo(s);if(r){const{id:i,name:l,pid:c,layout:h,components:f}=r,p={pageInfo:{id:i,name:l,pid:c},pageConfig:JSON.parse(h),comps:f.map(u=>JSON.parse(u.componentContent))};t.loadScreenData(p),await Se(),document.title=l}}catch(r){console.log(r)}n.value=!1},d=async()=>{try{n.value=!0;const s=await oo();if(s.tpl.length>0){const r=await so(s.tpl);if(r){const i=JSON.parse(r.content),{comps:l,pageConfig:c}=i;t.loadScreenData({comps:l,pageConfig:c})}}else t.setScreenSize(s)}catch(s){console.log(s)}n.value=!1};return he(()=>o.path,async()=>{const{id:s}=o.query;s?await e(s):await d()},{immediate:!0}),{loading:n}}function ni(){const o=T(null),t=T(null),{schemaStore:n,storeToRefs:e}=R(),{canvas:d,selectedCom:s}=e(n);let r=null;const i=f=>{const p=f.target;if(!["input","textarea"].includes(p.tagName.toLowerCase())){const u=f.key.toLowerCase();u==="delete"?(t.value&&t.value.toDeleteCom(),f.preventDefault()):u==="f2"&&(t.value&&t.value.renameCom(),f.preventDefault());const g=s.value;f.altKey&&(l("altKey"),u==="arrowup"?t.value&&t.value.moveUp():u==="arrowdown"?t.value&&t.value.moveDown():u==="home"?t.value&&t.value.moveTop():u==="end"&&t.value&&t.value.moveBottom(),f.preventDefault()),f.ctrlKey&&(l("ctrlKey"),u==="arrowup"?(n.toggleCompsPanel(),f.preventDefault()):u==="arrowdown"?(n.toggleToolbox(),f.preventDefault()):u==="arrowleft"?(n.toggleLayerPanel(),f.preventDefault()):u==="arrowright"?(n.toggleConfigPanel(),f.preventDefault()):u==="a"?(n.autoCanvasScale(),f.preventDefault()):u==="d"?(n.setCanvasScale(100),f.preventDefault()):u==="c"?(r=s.value,f.preventDefault()):u==="v"?(r&&n.copyCom(r.id),f.preventDefault()):u==="s"?(o.value&&o.value.handleSaveScreen(),f.preventDefault()):u==="z"&&(n.undo(),f.preventDefault())),f.shiftKey&&l("shiftKey"),f.keyCode===32&&(l("spaceKey"),f.preventDefault());const x=f.shiftKey?10:1;g&&!f.altKey&&(u==="arrowleft"?(g.attr.x-=x,f.preventDefault()):u==="arrowright"?(g.attr.x+=x,f.preventDefault()):u==="arrowup"?(g.attr.y-=x,f.preventDefault()):u==="arrowdown"&&(g.attr.y+=x,f.preventDefault()))}},l=f=>{n.toggleKey({key:f,status:!0})},c=()=>{n.resetKeyCode()},h=f=>{const p=parseInt((d.value.scale*100).toFixed(2)),u=(f.wheelDelta>0?1:-1)*5,g=Math.min(Math.max(p+u,20),200);n.setCanvasScale(g)};return ve(()=>{q(document,"keydown",i),q(document,"keyup",c)}),ke(()=>{Z(document,"keydown",i),Z(document,"keyup",c)}),{headerRef:o,contextMenuRef:t,ctrlMouseWheel:h}}const li={name:"ScreenEditor",components:{ContextMenu:oi,FooterPanel:ps,ToolboxPanel:Zl,CanvasMain:Yn,ConfigPanel:Al,ComponentsPanel:ln,LayerPanel:Zo,HeaderBar:jo},setup(){return oe(oe({},ai()),ni())}},si={key:0,flex:"main:center cross:center",class:"full-wrapper"},ii={key:1,class:"editor-main-wrapper"},ri={class:"edit-main-wp"};function ci(o,t,n,e,d,s){const r=v("header-bar"),i=v("svg-loading"),l=v("components-panel"),c=v("layer-panel"),h=v("toolbox-panel"),f=v("canvas-main"),p=v("footer-panel"),u=v("config-panel"),g=v("context-menu");return b(),w("div",{class:"schema-screen-container",onWheel:t[0]||(t[0]=ee((...x)=>o.ctrlMouseWheel&&o.ctrlMouseWheel(...x),["ctrl","prevent"]))},[m(r,{ref:"headerRef","back-url":"/dashboard"},null,512),o.loading?(b(),w("div",si,[m(i,{name:"loading02"})])):(b(),w("div",ii,[m(l),m(c),a("div",ri,[m(h),m(f),m(p)]),m(u)])),m(g,{ref:"contextMenuRef"},null,512)],32)}var wi=F(li,[["render",ci]]);export{wi as default};
