import{v as y,t as g,_ as v}from"./index-9b587de5.js";import{as as w,at as x,J as i,o as k,A as V,u as o,B as t,t as L,w as r,H as u,az as j,aA as z,q}from"./vendor-d82059d1.js";import{_ as K}from"./logo-39114ead.js";import"./chunk-bin-ui-next-ebb85d31.js";import"./chunk-brace-7fd40d4c.js";var S="/bin-datav-schema/static/png/login-code-8c841f1c.png";const B={name:"Login",components:{BackgroundParticles:x(()=>v(()=>import("./index-d2294427.js"),["static/js/index-d2294427.js","static/css/index-efdd0812.css","static/js/vendor-d82059d1.js","static/css/vendor-2b79d43b.css","static/js/chunk-brace-7fd40d4c.js"]))},data(){return{formLogin:{username:"admin",password:"123456",verycode:"",uuid:""},loading:!1,rules:{username:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}],verycode:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",trigger:"blur"}]}}},methods:{submit(){this.$refs.loginForm.validate(async s=>{if(s){try{this.loading=!0;const{data:e}=await y(this.formLogin);await this.loginSuccess(e)}catch(e){g("login/requestFailed",e)}this.loading=!1}})},async loginSuccess(s){if(s.code==="00"){const e=s.data.accessToken;await this.$store.dispatch("user/setToken",e);const _=this.$route.query.redirect||"/";await this.$router.push({path:_})}else g("login/requestFailed",s)}}},p=s=>(j("data-v-24bf5fcc"),s=s(),z(),s),C={class:"page-login"},I={class:"layer"},A={class:"content",flex:"dir:top main:center cross:center"},E={class:"main",flex:"dir:top main:center cross:center"},F={class:"page-login--logo"},N=p(()=>t("img",{src:K,alt:"logo"},null,-1)),T={class:"form"},P={flex:"main:justify cross:center"},U=p(()=>t("span",{class:"login-code"},[t("img",{src:S,alt:"code"})],-1)),D=q(" \u767B\u5F55 "),H=p(()=>t("div",{class:"footer"},null,-1));function J(s,e,_,O,n,d){const f=i("background-particles"),l=i("b-icon"),c=i("b-input"),m=i("b-form-item"),b=i("b-button"),h=i("b-form");return k(),V("div",C,[o(f),t("div",I,[t("div",A,[t("div",E,[t("div",F,[N,t("span",null,L(s.$store.state.app.projectName),1)]),t("div",T,[o(h,{ref:"loginForm","label-position":"top",rules:n.rules,model:n.formLogin},{default:r(()=>[o(m,{prop:"username"},{default:r(()=>[o(c,{type:"text",modelValue:n.formLogin.username,"onUpdate:modelValue":e[0]||(e[0]=a=>n.formLogin.username=a),placeholder:"\u7528\u6237\u540D",size:"large",onKeydown:u(d.submit,["enter"])},{prefix:r(()=>[o(l,{name:"user",size:"16"})]),_:1},8,["modelValue","onKeydown"])]),_:1}),o(m,{prop:"password"},{default:r(()=>[o(c,{type:"password",modelValue:n.formLogin.password,"onUpdate:modelValue":e[1]||(e[1]=a=>n.formLogin.password=a),placeholder:"\u5BC6\u7801",size:"large",onKeydown:u(d.submit,["enter"])},{prefix:r(()=>[o(l,{name:"lock",size:"16"})]),_:1},8,["modelValue","onKeydown"])]),_:1}),o(m,{prop:"verycode"},{default:r(()=>[t("div",P,[o(c,{type:"text",modelValue:n.formLogin.verycode,"onUpdate:modelValue":e[2]||(e[2]=a=>n.formLogin.verycode=a),size:"large",style:{width:"73%"},onKeydown:u(d.submit,["enter"])},{prefix:r(()=>[o(l,{name:"code",size:"16"})]),_:1},8,["modelValue","onKeydown"]),U])]),_:1}),o(b,{onClick:d.submit,loading:n.loading,type:"primary",class:"button-login",size:"large"},{default:r(()=>[D]),_:1},8,["onClick","loading"])]),_:1},8,["rules","model"])])]),H])])])}var X=w(B,[["render",J],["__scopeId","data-v-24bf5fcc"]]);export{X as default};
